(this.webpackJsonpfti=this.webpackJsonpfti||[]).push([[0],{284:function(e){e.exports=JSON.parse('{"color":["#fb8c3b","#acacac","#ffc000","#1f78b4","#ff5757","#9dc3e6","#ff83d0","#d290ff","#a6ea7c"],"backgroundColor":"rgba(0,0,0,0)","textStyle":{},"title":{"textStyle":{"color":"#524f4f"},"subtextStyle":{"color":"#6e7079"}},"line":{"itemStyle":{"borderWidth":1},"lineStyle":{"width":2},"symbolSize":4,"symbol":"circle","smooth":false},"radar":{"itemStyle":{"borderWidth":1},"lineStyle":{"width":2},"symbolSize":4,"symbol":"circle","smooth":false},"bar":{"itemStyle":{"barBorderWidth":0,"barBorderColor":"#ccc"}},"pie":{"itemStyle":{"borderWidth":0,"borderColor":"#ccc"}},"scatter":{"itemStyle":{"borderWidth":0,"borderColor":"#ccc"}},"boxplot":{"itemStyle":{"borderWidth":0,"borderColor":"#ccc"}},"parallel":{"itemStyle":{"borderWidth":0,"borderColor":"#ccc"}},"sankey":{"itemStyle":{"borderWidth":0,"borderColor":"#ccc"}},"funnel":{"itemStyle":{"borderWidth":0,"borderColor":"#ccc"}},"gauge":{"itemStyle":{"borderWidth":0,"borderColor":"#ccc"}},"candlestick":{"itemStyle":{"color":"#eb5454","color0":"#47b262","borderColor":"#eb5454","borderColor0":"#47b262","borderWidth":1}},"graph":{"itemStyle":{"borderWidth":0,"borderColor":"#ccc"},"lineStyle":{"width":1,"color":"#aaaaaa"},"symbolSize":4,"symbol":"circle","smooth":false,"color":["#fb8c3b","#acacac","#ffc000","#1f78b4","#ff5757","#9dc3e6","#ff83d0","#d290ff","#a6ea7c"],"label":{"color":"#eeeeee"}},"map":{"itemStyle":{"areaColor":"#eee","borderColor":"#444","borderWidth":0.5},"label":{"color":"#000"},"emphasis":{"itemStyle":{"areaColor":"rgba(255,215,0,0.8)","borderColor":"#444","borderWidth":1},"label":{"color":"rgb(100,0,0)"}}},"geo":{"itemStyle":{"areaColor":"#eee","borderColor":"#444","borderWidth":0.5},"label":{"color":"#000"},"emphasis":{"itemStyle":{"areaColor":"rgba(255,215,0,0.8)","borderColor":"#444","borderWidth":1},"label":{"color":"rgb(100,0,0)"}}},"categoryAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#6E7079"}},"axisTick":{"show":true,"lineStyle":{"color":"#6E7079"}},"axisLabel":{"show":true,"color":"#6E7079"},"splitLine":{"show":false,"lineStyle":{"color":["#E0E6F1"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},"valueAxis":{"axisLine":{"show":false,"lineStyle":{"color":"#6E7079"}},"axisTick":{"show":false,"lineStyle":{"color":"#6E7079"}},"axisLabel":{"show":true,"color":"#6E7079"},"splitLine":{"show":true,"lineStyle":{"color":["#E0E6F1"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},"logAxis":{"axisLine":{"show":false,"lineStyle":{"color":"#6E7079"}},"axisTick":{"show":false,"lineStyle":{"color":"#6E7079"}},"axisLabel":{"show":true,"color":"#6E7079"},"splitLine":{"show":true,"lineStyle":{"color":["#E0E6F1"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},"timeAxis":{"axisLine":{"show":true,"lineStyle":{"color":"#6E7079"}},"axisTick":{"show":true,"lineStyle":{"color":"#6E7079"}},"axisLabel":{"show":true,"color":"#6E7079"},"splitLine":{"show":false,"lineStyle":{"color":["#E0E6F1"]}},"splitArea":{"show":false,"areaStyle":{"color":["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},"toolbox":{"iconStyle":{"borderColor":"#999999"},"emphasis":{"iconStyle":{"borderColor":"#666666"}}},"legend":{"textStyle":{"color":"#333333"}},"tooltip":{"axisPointer":{"lineStyle":{"color":"#cccccc","width":1},"crossStyle":{"color":"#cccccc","width":1}}},"timeline":{"lineStyle":{"color":"#dae1f5","width":2},"itemStyle":{"color":"#a4b1d7","borderWidth":1},"controlStyle":{"color":"#a4b1d7","borderColor":"#a4b1d7","borderWidth":1},"checkpointStyle":{"color":"#316bf3","borderColor":"#ffffff"},"label":{"color":"#a4b1d7"},"emphasis":{"itemStyle":{"color":"#ffffff"},"controlStyle":{"color":"#a4b1d7","borderColor":"#a4b1d7","borderWidth":1},"label":{"color":"#a4b1d7"}}},"visualMap":{"color":["#bf444c","#d88273","#f6efa6"]},"dataZoom":{"handleSize":"undefined%","textStyle":{}},"markPoint":{"label":{"color":"#eeeeee"},"emphasis":{"label":{"color":"#eeeeee"}}}}')},564:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a.n(n),c=a(44),A=a.n(c),s=a(57),i=a(285),o=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,576)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,A=t.getTTFB;a(e),n(e),r(e),c(e),A(e)}))},l=a(204),u="TOKEN_STORAGE";var d=Object(l.b)({name:"auth",initialState:{token:localStorage.getItem(u)},reducers:{setStoreToken:function(e,t){e.token=t.payload},clearStoreToken:function(e){e.token=null}}}),b=d.actions,j=(b.setStoreToken,b.clearStoreToken,d.reducer),p=Object(l.a)({reducer:{auth:j}}),x=a(70),m=a(39),f=a.p+"static/media/logo.c9ed1fb2.png",h=a(279),O=a(280),v=function(){function e(){Object(h.a)(this,e)}return Object(O.a)(e,null,[{key:"DashBoard",value:function(){return"/web"}},{key:"LogIn",value:function(){return"/web/login"}},{key:"Setting",value:function(){return"/web/setting"}},{key:"AmazonTop100DashBoard",value:function(){return"/web/amazon-top-100"}},{key:"AmazonTop100PriceDistribution",value:function(){return"/web/amazon-top-100/price-distribution"}},{key:"AmazonTop100Inventory",value:function(){return"/web/amazon-top-100/inventory"}},{key:"AmazonTop100NewReviews",value:function(){return"/web/amazon-top-100/new-reviews"}},{key:"AmazonTop100BrandRanking",value:function(){return"/web/amazon-top-100/brand-ranking"}},{key:"AmazonTop100ProductsRanking",value:function(){return"/web/amazon-top-100/products-ranking"}},{key:"AmazonTop100AmazonsChoice",value:function(){return"/web/amazon-top-100/amazons-choice"}},{key:"AmazonTop100Sponsored",value:function(){return"/web/amazon-top-100/sponsored"}},{key:"AmazonTop100KeywordAnalysis",value:function(){return"/web/amazon-top-100/keyword-analysis"}},{key:"CustomsDataDashBoard",value:function(){return"/web/customs-data"}}]),e}(),g=a(2);var y=function(){return Object(g.jsxs)("header",{className:"h-16 py-4 px-16 flex items-center bg-menu",children:[Object(g.jsx)(x.b,{to:v.AmazonTop100DashBoard(),children:Object(g.jsx)("img",{src:f,className:"w-auto h-12 mr-24",alt:"logo"})}),Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(x.b,{className:"text-white text-xl mr-12 hover:text-primary",to:v.AmazonTop100DashBoard,children:"Amazon Top 100"}),Object(g.jsx)(x.b,{className:"text-white text-xl mr-12 hover:text-primary",to:v.CustomsDataDashBoard,children:"Customs Data"})]})]})},w=a(8);var k=function(){var e=Object(m.g)().pathname.split("/").filter((function(e){return!!e}));return Object(g.jsxs)(w.Breadcrumb,{className:"py-4 text-lg text-context",separator:">",children:[e.map((function(e,t){return Object(g.jsx)(w.Breadcrumb.Item,{className:"text-lg",children:e},t)})),e.length<2&&Object(g.jsx)(w.Breadcrumb.Item,{className:"text-lg",children:"Dashboard"})]})},S=a(6),N=a(282);var C=function(){var e=Object(m.g)(),t=Object(n.useState)(!1),a=Object(S.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){c(!1)}),[e]);var A=function(e){c(e)};return Object(g.jsxs)("div",{children:[!r&&Object(g.jsx)("div",{className:"fixed z-50 left-8 top-24 cursor-pointer",onClick:function(){return A(!0)},children:Object(g.jsx)(N.a,{className:"text-menu text-3xl"})}),Object(g.jsxs)("div",{className:"fixed z-50 left-0 top-16 h-main px-8 pt-12 bg-menu transition transform ".concat(!r&&"-translate-x-full"),style:{width:"300px"},children:[Object(g.jsx)("div",{className:"absolute right-4 top-4 cursor-pointer",onClick:function(){return A(!1)},children:Object(g.jsx)("i",{className:"el-icon-close text-white"})}),Object(g.jsx)(x.b,{className:"hover:text-black-100",to:v.AmazonTop100DashBoard(),children:Object(g.jsx)("p",{className:"text-2xl text-white",children:"Dashboard"})}),Object(g.jsxs)("div",{className:"mt-8",children:[Object(g.jsx)("h3",{className:"text-2xl text-white border-b-2 border-solid border-white px-1",children:"Market Analysis"}),Object(g.jsxs)("div",{className:"pl-2",children:[Object(g.jsx)(x.b,{to:v.AmazonTop100PriceDistribution(),children:Object(g.jsx)("p",{className:"mt-4 text-xl text-white",children:"Price Distribution"})}),Object(g.jsx)(x.b,{to:v.AmazonTop100Inventory(),children:Object(g.jsx)("p",{className:"mt-4 text-xl text-white",children:"Inventory"})}),Object(g.jsx)(x.b,{to:v.AmazonTop100NewReviews(),children:Object(g.jsx)("p",{className:"mt-4 text-xl text-white",children:"New Reviews"})}),Object(g.jsx)(x.b,{to:v.AmazonTop100BrandRanking(),children:Object(g.jsx)("p",{className:"mt-4 text-xl text-white",children:"Brand Ranking"})}),Object(g.jsx)(x.b,{to:v.AmazonTop100ProductsRanking(),children:Object(g.jsx)("p",{className:"mt-4 text-xl text-white",children:"Products Ranking"})})]})]}),Object(g.jsxs)("div",{className:"mt-8",children:[Object(g.jsx)("h3",{className:"text-2xl text-white border-b-2 border-solid border-white px-1",children:"SEO Analysis"}),Object(g.jsxs)("div",{className:"pl-2",children:[Object(g.jsx)(x.b,{to:v.AmazonTop100AmazonsChoice(),children:Object(g.jsx)("p",{className:"mt-4 text-xl text-white",children:"Amazon's Choice"})}),Object(g.jsx)(x.b,{to:v.AmazonTop100Sponsored(),children:Object(g.jsx)("p",{className:"mt-4 text-xl text-white",children:"Sponsored"})}),Object(g.jsx)(x.b,{to:v.AmazonTop100KeywordAnalysis(),children:Object(g.jsx)("p",{className:"mt-4 text-xl text-white",children:"Keyword Analysis"})})]})]})]})]})},T=a(21),_=a(5),R=a.n(_),B=a(16),D=a(69),z=a(53),P=a(572),E=a(574),H=a(568),U=a(570),L=a(575),F=a(571),V=a(569),I=a(287),q=a(36),M=a(286),K=a(283),W=a.n(K);function G(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(B.a)(R.a.mark((function e(t,a){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(M.a)(t);case 4:n=e.sent,W()(n,"".concat(a,".png"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=function(e,t){if(t)return{min:0,max:100,interval:20};var a=e.reduce((function(e,t){return e>t?t:e}),0),n=e.reduce((function(e,t){return e<t?t:e}),0),r=a>5?a-5+a%5:0,c=n>5?n+5-n%5:5;return{min:r,max:c,interval:(c-r)/5}};function Y(e,t){if("document camera"===t){var a=Object(D.a)(e);return a.splice(0,1),a}return e}function X(e,t){if(!e)return null;var a=function(e,t){if(!t)return e;var a=Object(D.a)(e);return"webcam"===t&&(a[0]="10~20"),"video projector"===t&&(a[0]="17~30"),"document camera"===t&&(a.splice(0,1),a[0]="21~40"),a}(e.info.x_axis,t);return{axis:a,series:[{type:"bar",name:"Review Quantity",data:Y(e.data.map((function(e){return e.sold})),t),yAxisIndex:0},{type:"bar",name:"Product Model",data:Y(e.data.map((function(e){return e.count})),t),yAxisIndex:0},{type:"line",name:"Revenue(million USD)",data:Y(e.data.map((function(e){return e.revenue})),t),yAxisIndex:1}]}}var J=function(e,t){return t?t.series.filter((function(t){return t.yAxisIndex===e})):[]};z.a([P.a,E.a,H.a,U.a,L.a,F.a,I.a,V.a]);var $=function(e){var t=Object(n.useRef)(null),a=e.width,r=void 0===a?"100%":a,c=e.height,A=void 0===c?"400px":c,i=e.title,o=void 0===i?"Title":i,l=e.titleFontSize,u=void 0===l?24:l,d=e.data,b=void 0===d?null:d,j=e.names,p=void 0===j?[]:j,x=e.onClick,m=e.inverse,f=void 0!==m&&m,h=e.totals,O=void 0===h?[]:h,v=Z(J(0,b).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t.data))}),[])),y=Z(J(1,b).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t.data))}),[])),w={title:{text:o,textStyle:{fontSize:u}},grid:{backgroundColor:"white",top:70,right:70,left:70,bottom:115},legend:{bottom:0,formatter:function(e){return function(e){if(!b)return e;if(O.every((function(t){return t.name!==e})))return e;var t=b.series.find((function(t){return t.name===e}));if(!t)return e;var a=O.find((function(t){return t.name===e})).fixed,n=t.data.reduce((function(e,t){return e+t}),0),r=a?n.toFixed(2):n;return"".concat(e,", total: ").concat(r)}(e)}},dataZoom:[{show:!0,realtime:!0,bottom:60},{type:"inside",show:!0,realtime:!0,bottom:60}],tooltip:{trigger:"axis"},xAxis:[{type:"category",data:b?b.axis:[],axisLine:{show:!f},axisTick:{show:!f},boundaryGap:!f}],yAxis:[{type:"value",name:p[0],min:v.min,max:v.max,interval:v.interval,show:"string"===typeof p[0],inverse:f},{type:"value",name:p[1],min:y.min,max:y.max,interval:y.interval,show:"string"===typeof p[1]}],series:b?b.series:[]};Object(n.useEffect)((function(){if(t.current){var e=s.b(t.current,"customed");e.setOption(w),e.on("click",(function(e){x&&e&&b&&x(b.axis[e.dataIndex])}))}}));var k=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30",onClick:k}),Object(g.jsx)("div",{ref:t,style:{width:r,height:A}})]})},ee=a(573);z.a([ee.a,U.a,L.a,F.a,I.a]);var te=function(e){var t=Object(n.useRef)(null),a=e.width,r=void 0===a?"100%":a,c=e.height,A=void 0===c?"400px":c,i=e.title,o=void 0===i?"Title":i,l=e.titleFontSize,u=void 0===l?24:l,d=e.subtitle,b=void 0===d?"":d,j=e.subtitleFontSize,p=void 0===j?20:j,x=e.data,m=void 0===x?[]:x,f=e.hasLegend,h=void 0!==f&&f,O=e.onClick,v={tooltip:{},series:[{type:"pie",center:["50%","50%"],radius:["40%","70%"],left:"left",label:{position:"inner",formatter:"{d}%",color:"white"},labelLine:{show:!1},data:m}]};h&&(v.legend={orient:"vertical",right:"10%",top:"middle"},v.series[0].center[0]="35%"),Object(n.useEffect)((function(){if(t.current&&m.length){var e=s.b(t.current,"customed");e.setOption(v),e.on("click",(function(e){O&&e&&O(e.name)}))}}),[m,v,O]);var y=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsxs)("div",{className:"flex items-center absolute left-0 top-0",children:[Object(g.jsx)("h3",{className:"font-bold mr-4 text-gray-700",style:{fontSize:u},children:o}),Object(g.jsx)("h3",{className:"font-bold text-gray-500",style:{fontSize:p},children:b})]}),Object(g.jsx)("div",{ref:t,style:{width:r,height:A}}),Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30",onClick:y})]})},ae=a(91);z.a([ee.a,H.a,L.a,F.a,I.a]);var ne=function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),r=e.width,c=void 0===r?"100%":r,A=e.height,i=void 0===A?"400px":A,o=e.title,l=void 0===o?"Title":o,u=e.titleFontSize,d=void 0===u?24:u,b=e.name,j=void 0===b?"Done":b,p=e.percentage,x=void 0===p?0:p,m=e.brand,f=e.color,h=e.onClear,O={tooltip:{},series:[{type:"pie",radius:["55%","85%"],top:"15%",label:{show:!1,position:"center"},labelLine:{show:!1},itemStyle:{color:function(e){return e.dataIndex?"#acacac":f}},data:[{name:j,value:x},{name:"None",value:100-x}]}]};Object(n.useEffect)((function(){t.current&&s.b(t.current,"customed").setOption(O)}));var v=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(a.current,l);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsx)("div",{className:"flex items-center absolute left-0 top-0",children:Object(g.jsx)("h3",{className:"font-bold mr-4 text-gray-700",style:{fontSize:d},children:l})}),m&&Object(g.jsxs)("div",{className:"absolute left-0 top-7 flex items-center rounded p-1 z-50 cursor-pointer",style:{backgroundColor:f,fontSize:".6rem"},onClick:h,children:[m,Object(g.jsx)(ae.b,{className:"ml-1"})]}),Object(g.jsxs)("div",{ref:a,children:[Object(g.jsx)("div",{ref:t,style:{width:c,height:i}}),Object(g.jsxs)("p",{className:"absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-primary text-3xl",style:{top:"58%"},children:[x,"%"]})]}),Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30",onClick:v})]})};z.a([E.a,H.a,U.a,L.a,I.a]);var re=function(e){var t=Object(n.useRef)(null),a=e.width,r=void 0===a?"100%":a,c=e.height,A=void 0===c?"400px":c,i=e.title,o=void 0===i?"Title":i,l=e.titleFontSize,u=void 0===l?24:l,d=e.data,b=void 0===d?[[],[]]:d,j=e.dataItemName,p=void 0===j?"":j,x=e.onClick,m=Object(S.a)(b,2),f=m[0],h=m[1],O={title:{text:o,textStyle:{fontSize:u}},grid:{top:50,right:50,bottom:40,left:100},tooltip:{trigger:"axis",position:"top",confine:!0,formatter:"<div style='display:block; word-break: break-all;word-wrap: break-word; white-space:pre-wrap; width: 400px;'>{b} </div> <br/>{a}:{c}"},xAxis:[{type:"value"}],yAxis:[{type:"category",data:f,inverse:!0,axisLabel:{width:100,fontFamily:"monospace",formatter:function(e){var t=e;return t.length>9?t.substring(0,8)+"...":t+Array(11-t.length).fill(" ").join("")}}}],series:[{type:"bar",name:p,yAxisIndex:0,data:h}]};Object(n.useEffect)((function(){if(t.current){var e=s.b(t.current,"customed");e.setOption(O),x&&e.on("click",(function(e){x&&x(h[e.dataIndex].data)}))}}));var v=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsx)("div",{ref:t,style:{width:r,height:A}}),Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30r",onClick:v})]})};var ce=function(e){var t=e.height,a=void 0===t?"100px":t,n=e.title,r=e.context,c=e.reviewsContext;return Object(g.jsx)(w.Card,{children:Object(g.jsxs)("div",{style:{height:a},children:[Object(g.jsx)("p",{className:"text-xl font-medium text-context pb-4",children:n}),Object(g.jsxs)("p",{className:"text-xl font-medium text-context",children:[Object(g.jsx)("span",{className:"text-4xl font-bold text-black",children:r})," with ",Object(g.jsx)("span",{className:"text-black",children:c})," new reviews"]})]})})};z.a([E.a,H.a,U.a,L.a,I.a]);var Ae=function(e){var t=Object(n.useRef)(null),a=e.width,r=void 0===a?"100%":a,c=e.height,A=void 0===c?"400px":c,i=e.title,o=void 0===i?"Title":i,l=e.titleFontSize,u=void 0===l?24:l,d=e.data,b=e.onClick,j=e.padding,p=void 0===j?"":j,x=Object(S.a)(d,3),m=x[0],f=x[1],h=x[2],O={title:{text:o,textStyle:{fontSize:u}},grid:{top:70,right:20,bottom:80,left:50},tooltip:{trigger:"axis",position:"top",confine:!0,formatter:"<div style='display:block; word-break: break-all;word-wrap: break-word; white-space:pre-wrap; width: 400px;'>{b} </div> <br/>{a}: {c}"},xAxis:[{type:"category",data:m,axisLabel:{interval:0,rotate:20,formatter:function(e){var t=e;return t.length>9&&(t=t.substring(0,8)+"..."),t}}}],yAxis:[{type:"value",splitLine:{show:!1},minInterval:1}],series:[{type:"bar",name:"Times",yAxisIndex:0,showBackground:!0,data:f.map((function(e){return e.value})),barWidth:20,itemStyle:{color:"#ffc000"}}]};Object(n.useEffect)((function(){if(t.current){var e=s.b(t.current,"customed");e.setOption(O),e.on("click",(function(e){b&&b(f[e.dataIndex].data)}))}}));var v=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30",onClick:v}),Object(g.jsx)("div",{ref:t,style:{width:r,height:A}}),Object(g.jsxs)("h3",{className:"absolute left-0 bottom-0 text-primary",children:["Avg",Object(g.jsx)("br",{}),"Rank"]}),Object(g.jsx)("div",{className:"absolute left-0 bottom-0 w-full flex",style:{padding:p},children:h.map((function(e,t){return Object(g.jsxs)("span",{className:"text-primary text-center",style:{width:"".concat(100/h.length,"%")},children:["#",e]},t)}))})]})},se=a(208),ie=a.n(se);ie.a.defaults.baseURL="https://fti.bilabasia.com/api",ie.a.interceptors.response.use((function(e){return e}),function(){var e=Object(B.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.response,e.abrupt("return",Promise.reject(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var oe=ie.a;function le(e){return oe({url:"/products",method:"GET",params:e})}function ue(e){return oe({url:"/product",method:"GET",params:e})}var de=function(e){var t=e.imageUrl,a=void 0===t?"data:image/jpeg;base64,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":t,r=e.name,c=e.price,A=e.code,s=e["Resoluion & Frame Rate"],i=e.Function,o=e.Certification,l=e.ranking,u=e.mission,d=Object(n.useState)(!1),b=Object(S.a)(d,2),j=b[0],p=b[1];return Object(g.jsx)(w.Card,{className:"relative cursor-pointer",style:{overflow:"visible"},children:Object(g.jsxs)("div",{onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},children:[Object(g.jsxs)("div",{className:"absolute top-0 left-0 flex",children:[Object(g.jsx)("div",{className:"pl-2 pr-4 py-1 bg-primary text-sm text-white text-center mr-4",style:{width:"55px",clipPath:"polygon(0% 0%, 0% 100%, 40px 100%, 100% 0%)"},children:Object(g.jsxs)("p",{children:["#",l]})}),Object(g.jsx)("div",{className:"pl-4 pr-2 py-1 bg-primary text-sm text-white",style:{clipPath:"polygon(15px 0%, 0% 100%, 100% 100%, 100% 0%)"},children:Object(g.jsx)("p",{children:u})})]}),Object(g.jsx)("div",{className:"bg-image my-4",style:{width:"180px",height:"180px",backgroundImage:"url('".concat(a,"')")}}),Object(g.jsxs)("div",{className:"flex justify-between items-center",children:[Object(g.jsx)(w.Tooltip,{content:r,effect:"light",className:"overflow-hidden",children:Object(g.jsx)("h2",{className:"text-base text-context text-ellipsis",children:r})}),Object(g.jsxs)("p",{className:"text-base text-context",children:["$",c]})]}),Object(g.jsx)("p",{className:"text-base text-context",children:A}),s.length||i.length||o.length?Object(g.jsxs)("div",{className:"absolute right-0 bottom-2 left-0 z-20 mt-4 px-5 pb-5 transform translate-y-full bg-white rounded ".concat(j?"":"hidden"),style:{boxShadow:"0 4px 4px 0 rgb(0 0 0 / 12%), 0 6px 6px 0 rgb(0 0 0 / 4%)"},children:[s.length?Object(g.jsxs)("p",{children:["Resolution: ",Object(g.jsx)("span",{className:"text-sm text-context",children:s.join(", ")})]}):"",i.length?Object(g.jsxs)("p",{children:["Function: ",Object(g.jsx)("span",{className:"text-sm text-context",children:i.join(", ")})]}):"",o.length?Object(g.jsxs)("p",{children:["Certification: ",Object(g.jsx)("span",{className:"text-sm text-context",children:o.join(", ")})]}):""]}):""]})})};function be(e,t){var a=Object(n.useState)(!1),r=Object(S.a)(a,2),c=r[0],A=r[1];Object(n.useEffect)((function(){c?e():A(!0)}),t)}var je,pe=a(133),xe=a(46),me=a.n(xe),fe=a(58);function he(e){var t=e.label,a=e.children,r=Object(n.useState)(!1),c=Object(S.a)(r,2),A=c[0],s=c[1];return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex justify-between items-center py-2 cursor-pointer border-b-2 border-solid",onClick:function(){s((function(e){return!e}))},children:[Object(g.jsx)("h2",{children:t}),Object(g.jsx)("div",{className:"text-2xl",children:A?Object(g.jsx)(fe.c,{}):Object(g.jsx)(fe.a,{})})]}),Object(g.jsx)("div",{className:"h-0 ".concat(A&&"h-auto"," overflow-y-hidden"),children:a})]})}!function(e){e[e.BUTTON=0]="BUTTON",e[e.DROPDOWN=1]="DROPDOWN",e[e.SCROLL_BAR=2]="SCROLL_BAR"}(je||(je={}));var Oe=function(e){var t=[];return e.forEach((function(e){e.items.forEach((function(a){a.items.forEach((function(n){n.checked&&t.push({label:n.label,keys:[e.key,a.key,n.value]})}))}))})),t};var ve=function(e){var t=e.height,a=void 0===t?"300px":t,r=e.type,c=void 0===r?"webcam":r,A=e.onFilter,s=Object(n.useState)([]),i=Object(S.a)(s,2),o=i[0],l=i[1],u=Object(n.useCallback)((function(){var e={webcam:we,"video projector":ke,"document camera":Se,default:we};l((e[c]||e.default)())}),[c]);Object(n.useEffect)((function(){u()}),[c,u]);var d=function(e,t){var a=o.map((function(a){return Object(T.a)(Object(T.a)({},a),{},{items:a.items.map((function(n){return Object(T.a)(Object(T.a)({},n),{},{items:n.items.map((function(r){var c=a.key===e[0]&&n.key===e[1]&&r.value===e[2];return Object(T.a)(Object(T.a)({},r),{},{checked:c?t:r.checked})}))})}))})}));l(a)};return Object(g.jsxs)("div",{className:"flex flex-col justify-between overflow-y-scroll",style:{height:a},children:[Object(g.jsxs)("div",{className:"pr-4",children:[Object(g.jsx)("h2",{className:"text-2xl font-medium pb-2",children:"Advanced Filter"}),o.map((function(e){return Object(g.jsx)(he,{label:e.label,children:Object(g.jsx)("div",{className:"p-4",children:e.items.map((function(t){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h2",{className:"my-2",children:t.label}),t.type===je.BUTTON&&t.items.map((function(a){return Object(g.jsx)(w.Button,{className:"cursor-pointer",type:a.checked?"primary":"info",size:"small",onClick:function(){return d([e.key,t.key,a.value],!a.checked)},style:{marginLeft:0,margin:"4px 5px"},children:a.label})})),t.type===je.DROPDOWN&&Object(g.jsx)(w.Select,{placeholder:"Select",value:t.items.find((function(e){return e.checked}))?t.items.find((function(e){return e.checked})).value:void 0,clearable:!0,onChange:function(a){return function(e,t){var a=o.map((function(a){return Object(T.a)(Object(T.a)({},a),{},{items:a.items.map((function(n){return Object(T.a)(Object(T.a)({},n),{},{items:n.items.map((function(r){var c=a.key===e[0]&&n.key===e[1]&&r.value===t;return Object(T.a)(Object(T.a)({},r),{},{checked:c})}))})}))})}));l(a)}([e.key,t.key],a)},children:t.items.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))})]})}))})})})),Object(g.jsxs)("div",{className:"py-4 flex justify-end",children:[Object(g.jsx)(w.Button,{type:"info",onClick:function(){u()},children:"Clear"}),Object(g.jsx)(w.Button,{type:"primary",onClick:function(){var e={};o.forEach((function(t){t.items.forEach((function(t){var a=!0,n=t.items.reduce((function(e,t){return t.checked&&(a||(e+=","),a=!1,e+="".concat(t.value)),e}),"");n&&(e[t.key]=n)}))})),A(e)},children:"Search"})]})]}),Object(g.jsx)("div",{className:"border border-2 p-4",children:Oe(o).map((function(e){return Object(g.jsx)(w.Tag,{className:"mr-2",type:"primary",closable:!1,onClose:function(){return d(e.keys,!1)},children:e.label})}))})]})};function ge(e){return[me()(e[0]).format("YYYY-MM-DD"),me()(e[1]).format("YYYY-MM-DD")]}function ye(){return[me()().subtract(2,"week").startOf("week").toDate(),me()().subtract(1,"week").startOf("week").toDate()]}function we(){return[{label:"Resolution & Frame Rate",key:"resolution",items:[{label:"Resolution",key:"webcam_resolution",type:je.BUTTON,items:[{label:"720p",value:"720p",checked:!1},{label:"1080p",value:"1080p",checked:!1},{label:"2K",value:"2K",checked:!1},{label:"4K",value:"4K",checked:!1}]},{label:"Frame Rate",key:"webcam_framerate",type:je.BUTTON,items:[{label:"30fps",value:"30fps",checked:!1},{label:"60fps",value:"60fps",checked:!1},{label:"90fps",value:"90fps",checked:!1}]}]},{label:"Function",key:"function",items:[{label:"FOV",key:"FOV",type:je.DROPDOWN,items:[{label:"Normal",value:"Normal",checked:!1},{label:"Wide",value:"Wide",checked:!1}]},{label:"Streaming Recording",key:"streaming_recording",type:je.DROPDOWN,items:[{label:"Streaming",value:"Streaming",checked:!1},{label:"Recording",value:"Recording",checked:!1},{label:"Streaming & Recording",value:"StreamingAndRecording",checked:!1},{label:"Streaming or Recording",value:"StreamingOrRecording",checked:!1}]},{label:"Function",key:"function",type:je.BUTTON,items:[{label:"HDR/WDR",value:"HDR/WDR",checked:!1},{label:"Adjustable FOV",value:"Adjustable FOV",checked:!1},{label:"Auto Focus",value:"Auto Focus",checked:!1},{label:"Digitial Zoom",value:"Digitial Zoom",checked:!1},{label:"Pan+Tilt",value:"Pan+Tilt",checked:!1},{label:"Dual Mics",value:"Dual Mics",checked:!1},{label:"IR Technology",value:"IR Technology",checked:!1},{label:"Universal Clip",value:"Universal Clip",checked:!1},{label:"Tripod Thread",value:"Tripod Thread",checked:!1},{label:"Privacy Shutter",value:"Privacy Shutter",checked:!1},{label:"Included Tripod",value:"Included Tripod",checked:!1},{label:"Glass Lens",value:"Glass Lens",checked:!1}]}]},{label:"Certification",key:"certification",items:[{label:"",key:"certifiction",type:je.BUTTON,items:[{label:"Zoom",value:"Zoom",checked:!1},{label:"Micrsoft Teams",value:"Micrsoft Teams",checked:!1},{label:"Google Meet",value:"Google Meet",checked:!1},{label:"Ciscso WebEx",value:"Ciscso WebEx",checked:!1}]}]}]}function ke(){return[{label:"Display Technology",key:"display-technology",items:[{label:"",key:"framerate",type:je.BUTTON,items:[{label:"DLP",value:"DLP",checked:!1},{label:"3LCD",value:"3LCD",checked:!1},{label:"LCD/LCoS",value:"LCD/LCoS",checked:!1}]}]},{label:"Resolution",key:"Resolution",items:[{label:"",key:"shotting",type:je.BUTTON,items:[{label:"<720p",value:"<720p",checked:!1},{label:"720p",value:"720p",checked:!1},{label:"1080p",value:"1080p",checked:!1},{label:"2K",value:"2K",checked:!1},{label:"4K",value:"4K",checked:!1}]}]},{label:"Brightness",key:"brightness",items:[{label:"",key:"brightness",type:je.BUTTON,items:[{label:"<500 ANSI",value:"<500 ANSI",checked:!1},{label:"500~1000 ANSI",value:"500~1000 ANSI",checked:!1},{label:"1001~3000 ANSI",value:"1001~3000 ANSI",checked:!1},{label:">3000 ANSI",value:">3000 ANSI",checked:!1}]}]},{label:"Connectivity",key:"connectiviity",items:[{label:"",key:"connectivity",type:je.BUTTON,items:[{label:"HDMI",value:"HDMI",checked:!1},{label:"Wifi",value:"Wifi",checked:!1},{label:"TYPE C",value:"TYPE C",checked:!1},{label:"VGA",value:"VGA",checked:!1},{label:"USB A",value:"USB A",checked:!1},{label:"Power Adapter",value:"Power Adapter",checked:!1}]}]},{label:"Other Function",key:"other-function",items:[{label:"",key:"other",type:je.BUTTON,items:[{label:"Auto Focus",value:"Auto Focus",checked:!1},{label:"ToF",value:"ToF",checked:!1},{label:"Auto Keystone Correction",value:"Auto Keystone Correction",checked:!1},{label:"Work for Android",value:"Work for Android",checked:!1},{label:"Built in Battery",value:"Built in Battery",checked:!1}]}]}]}function Se(){return[{label:"Resolution & Frame Rate",key:"resolution",items:[{label:"",key:"framerate",type:je.BUTTON,items:[{label:"1080p",value:"1080p",checked:!1},{label:"2K",value:"2K",checked:!1},{label:"4K or more",value:"4K or more",checked:!1}]}]},{label:"Shooting Area",key:"shooting-area",items:[{label:"",key:"shotting",type:je.BUTTON,items:[{label:'>11" x 16.5"',value:'>11" x 16.5"',checked:!1},{label:'<=11" x 16.5"',value:'<=11" x 16.5"',checked:!1}]}]},{label:"MIC / Microphone",key:"Mic/Microphone",items:[{label:"",key:"mic",type:je.BUTTON,items:[{label:"MIC/Microphone",value:"MIC/Microphone",checked:!1}]}]},{label:"Connectivity",key:"connectiviity",items:[{label:"",key:"connect",type:je.BUTTON,items:[{label:"USB",value:"USB",checked:!1},{label:"HDMI out",value:"HDMI out",checked:!1},{label:"VGA",value:"VGA",checked:!1},{label:"HDMI in",value:"HDMI in",checked:!1}]}]}]}var Ne=function(e){var t=e.visible,a=e.setVisible,r=e.params,c=e.onDownload,A=Object(n.useState)(null),s=Object(S.a)(A,2),i=s[0],o=s[1],l=Object(n.useState)([]),u=Object(S.a)(l,2),d=u[0],b=u[1],j=Object(n.useState)(1),p=Object(S.a)(j,2),x=p[0],m=p[1],f=Object(n.useState)(1),h=Object(S.a)(f,2),O=h[0],v=h[1],y=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,c,A,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.date&&(t=ge(r.date),a=Object(S.a)(t,2),n=a[0],c=a[1],r.start_at=n,r.end_at=c),r.stock&&(A={Available:"unknown","High stock":"height","Low stock":"low","Out of stock":"out",default:""},r.stock=A[r.stock]),e.next=4,le(Object(T.a)(Object(T.a)({},r),{},{page:x}));case 4:s=e.sent,i=s.data,o(i),v(i.info.max_page);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&(m(1),b([]),1===x&&y())}),[t]),be((function(){y()}),[x]),Object(g.jsx)(w.Dialog,{top:"30px",size:"large",visible:t,onCancel:function(){return a(!1)},children:Object(g.jsxs)(w.Dialog.Body,{children:[Object(g.jsx)("div",{className:"w-full overflow-x-scroll",children:Object(g.jsxs)("div",{className:"main-container",children:[i&&i.prods.length?Object(g.jsx)("div",{className:"flex flex-wrap -mx-1 mt-4",children:i.prods.map((function(e){var t={name:e.name,price:e.price,code:e.ASIN,imageUrl:e.image_url[0],"Resoluion & Frame Rate":e["Resoluion & Frame Rate"],Function:e.Function,Certification:e.Certification,ranking:e.ranking,mission:e.mission};return Object(g.jsxs)("div",{className:"relative mx-1 mb-2",style:{width:"calc(20% - 0.5rem)"},onClick:function(){return t=e.ASIN,void(d.includes(t)?b(d.filter((function(e){return e!==t}))):b([].concat(Object(D.a)(d),[t])));var t},children:[Object(g.jsx)("div",{className:"absolute -right-1 -top-1 z-50 text-lg bg-white cursor-pointer",children:d.includes(e.ASIN)?Object(g.jsx)(pe.b,{}):Object(g.jsx)(pe.c,{})}),Object(g.jsx)(de,Object(T.a)({},t))]})}))}):Object(g.jsx)("div",{className:"flex justify-center items-center px-4 py-8",children:Object(g.jsx)("h3",{className:"text-gray-400",children:"No Data"})}),O>=1&&Object(g.jsx)("div",{className:"flex justify-center my-8",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:O,currentPage:x,onCurrentChange:function(e){return m(e)}})})]})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{className:"text-lg",children:"Selected Products"}),Object(g.jsx)("div",{className:"border border-2 p-4 mt-2",style:{minHeight:"100px"},children:d.map((function(e){return Object(g.jsx)(w.Tag,{className:"mr-2",type:"primary",closable:!1,onClose:function(){return function(e){b(d.filter((function(t){return t!==e})))}(e)},children:e})}))}),Object(g.jsx)("div",{className:"mt-2 flex justify-end",children:Object(g.jsx)(w.Button,{type:"primary",onClick:function(){return c(d)},children:"Download"})})]})]})})};function Ce(e){return oe({url:"/market/get_top_brand_pie_chart",method:"GET",params:e})}function Te(e){return oe({url:"/market/get_top_product_bar_chart",method:"GET",params:e})}function _e(e){return oe({url:"/market/new_comments_bar_chart",method:"GET",params:e})}function Re(e){return oe({url:"/market/price_distribution_barline_chart",method:"GET",params:e})}function Be(e){return oe({url:"/market/instock_stock_chart",method:"GET",params:e})}function De(e){return oe({url:"/market/get_table",method:"GET",params:e})}function ze(e){return oe({url:"/market/get_table_new_comments",method:"GET",params:e})}function Pe(e){return oe({url:"/market/get_table_top_brand",method:"GET",params:e})}function Ee(e){return oe({url:"/market/get_table_top_product",method:"GET",params:e})}function He(e){return oe({url:"/market/dashboard_popular_price_range",method:"GET",params:e})}function Ue(e){return oe({url:"/market/get_most_popular_resolutions",method:"GET",params:e})}function Le(e){return oe({url:"/SEO/sponsored",method:"GET",params:e})}function Fe(e){return oe({url:"/SEO/sponsored_avg_rank_increase",method:"GET",params:e})}function Ve(e){return oe({url:"/SEO/sponsored_rate",method:"GET",params:e})}function Ie(e){return oe({url:"/SEO/amazons_choice",method:"GET",params:e})}function qe(e){return oe({url:"/SEO/amazons_choice_rate",method:"GET",params:e})}function Me(e){return oe({url:"/SEO/get_table_sponsored",method:"GET",params:e})}function Ke(e){return oe({url:"/SEO/get_table_search_cloud",method:"GET",params:e})}var We=a(62);z.a([P.a,U.a,L.a,V.a,I.a]);var Ge=function(e){var t=e.axis,a=e.data,r=Object(n.useRef)(null),c={grid:{top:"10%",right:"5%",bottom:"20%",left:"10%"},dataZoom:[{show:!0,realtime:!0},{type:"inside",show:!0,realtime:!0}],tooltip:{trigger:"axis"},xAxis:[{type:"category",data:t}],yAxis:[{type:"value"}],series:[{type:"line",name:"Reviews",data:a}]};Object(n.useEffect)((function(){r.current&&s.b(r.current,"customed").setOption(c)}));var A=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(r.current,"title");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative border-2 rounded mx-8 mt-10",style:{height:"400px"},children:[Object(g.jsx)(q.a,{className:"absolute right-2 top-2 text-3xl cursor-pointe z-30r",onClick:A}),Object(g.jsx)("div",{className:"flex items-center mt-2 px-2",children:Object(g.jsx)("h1",{className:"text-xl mr-4",children:"Review in Past"})}),Object(g.jsx)("div",{ref:r,style:{height:"350px",width:"570px"}})]})};z.a([P.a,U.a,L.a,V.a,I.a]);var Qe=function(e){var t=e.axis,a=e.data,r=Object(n.useRef)(null),c={grid:{top:"10%",right:"5%",bottom:"20%",left:"15%"},dataZoom:[{show:!0,realtime:!0},{type:"inside",show:!0,realtime:!0}],tooltip:{trigger:"axis"},xAxis:[{type:"category",data:t}],yAxis:[{type:"value",inverse:!0,position:"top",min:1}],series:[{type:"line",name:"Rank",data:a}]};Object(n.useEffect)((function(){r.current&&s.b(r.current,"customed").setOption(c)}));var A=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(r.current,"title");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative border-2 rounded mx-8 mt-10",style:{height:"400px"},children:[Object(g.jsx)(q.a,{className:"absolute right-2 top-2 text-3xl cursor-pointer z-30",onClick:A}),Object(g.jsx)("div",{className:"flex items-center px-2",style:{height:"50px"},children:Object(g.jsx)("h1",{className:"text-xl mr-4",children:"Rank in Past"})}),Object(g.jsx)("div",{ref:r,style:{height:"350px",width:"570px"}})]})};z.a([P.a,U.a,L.a,V.a,I.a]);var Ze=function(e){var t=e.axis,a=e.data,r=Object(n.useRef)(null),c={grid:{top:"10%",right:"5%",bottom:"20%",left:"15%"},dataZoom:[{show:!0,realtime:!0},{type:"inside",show:!0,realtime:!0}],tooltip:{trigger:"axis"},xAxis:[{type:"category",data:t}],yAxis:[{type:"category",data:["High Stock","Low Stock","Out of Stocks"],inverse:!0}],series:[{type:"line",name:"StockLevels",data:a}]};Object(n.useEffect)((function(){r.current&&s.b(r.current,"customed").setOption(c)}));var A=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(r.current,"title");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative border-2 rounded mx-8 mt-10",style:{height:"400px"},children:[Object(g.jsx)(q.a,{className:"absolute right-2 top-2 text-3xl cursor-pointer z-30r",onClick:A}),Object(g.jsx)("div",{className:"flex items-center px-2",style:{height:"50px"},children:Object(g.jsx)("h1",{className:"text-xl mr-4",children:"Stock Level in Past"})}),Object(g.jsx)("div",{ref:r,style:{height:"350px",width:"570px"}})]})};z.a([P.a,U.a,L.a,V.a,I.a]);var Ye=function(e){var t=e.axis,a=e.data,r=Object(n.useRef)(null),c={grid:{top:"10%",right:"5%",bottom:"20%",left:"10%"},dataZoom:[{show:!0,realtime:!0},{type:"inside",show:!0,realtime:!0}],tooltip:{trigger:"axis"},xAxis:[{type:"category",data:t}],yAxis:[{type:"value"}],series:[{type:"line",name:"Price",data:a}]};Object(n.useEffect)((function(){r.current&&s.b(r.current,"customed").setOption(c)}));var A=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(r.current,"title");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative border-2 rounded mx-8 mt-10",style:{height:"400px"},children:[Object(g.jsx)(q.a,{className:"absolute right-2 top-2 text-3xl cursor-pointer z-30r",onClick:A}),Object(g.jsx)("div",{className:"flex items-center mt-2 px-2",children:Object(g.jsx)("h1",{className:"text-xl mr-4",children:"Price in Past"})}),Object(g.jsx)("div",{ref:r,style:{height:"350px",width:"570px"}})]})};var Xe=function(e){var t=e.visible,a=e.setVisible,r=e.region,c=void 0===r?"":r,A=e.asin,s=void 0===A?"":A,i=Object(n.useState)(null),o=Object(S.a)(i,2),l=o[0],u=o[1];return Object(n.useEffect)((function(){if(t&&c&&s){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={region:c,asin:s},e.next=3,ue(t);case 3:a=e.sent,n=a.data,u(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[t]),Object(g.jsx)(w.Dialog,{customClass:"w-dialog h-dialog",visible:t,onCancel:function(){return a(!1)},children:Object(g.jsx)(w.Dialog.Body,{children:l&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsxs)("div",{className:"w-1/3",style:{height:"450px"},children:[Object(g.jsx)(w.Tooltip,{content:l.product_detail.name,effect:"light",children:Object(g.jsx)("h1",{className:"text-3xl text-context text-ellipsis",children:l.product_detail.name})}),Object(g.jsx)("div",{className:"bg-image w-full mt-4",style:{height:"350px",backgroundImage:"url('".concat(l.product_detail.image_url[0]||"","')")}}),Object(g.jsxs)("div",{className:"flex justify-between items-center",children:[Object(g.jsx)(w.Rate,{disabled:!0,value:parseFloat(l.product_detail.average_rating),showText:!0}),Object(g.jsxs)("p",{className:"text-2xl text-context",children:["$",l.product_detail.price]})]})]}),Object(g.jsx)("div",{className:"w-2/3",style:{height:"450px"},children:Object(g.jsxs)(w.Carousel,{indicatorPosition:"none",autoplay:!1,height:"450px",children:[Object(g.jsx)(w.Carousel.Item,{children:Object(g.jsx)(Ye,{axis:l.price_chart.x_axis,data:l.price_chart.data})}),Object(g.jsx)(w.Carousel.Item,{children:Object(g.jsx)(Ge,{axis:l.review_number.x_axis,data:l.review_number.data})}),Object(g.jsx)(w.Carousel.Item,{children:Object(g.jsx)(Ze,{axis:l.instock.x_axis,data:l.instock.data})}),Object(g.jsx)(w.Carousel.Item,{children:Object(g.jsx)(Qe,{axis:l.ranking.x_axis,data:l.ranking.data})})]})})]}),Object(g.jsxs)("div",{className:"flex justify-between items-end",style:{height:"50px"},children:[Object(g.jsxs)("p",{className:"text-xl text-context",children:["ASIN: ",l.product_detail.ASIN]}),Object(g.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:function(){window.open(l?l.product_detail.url:"")},children:[Object(g.jsx)("p",{className:"text-xl text-context mr-2",children:"Amazon Page"}),Object(g.jsx)(We.a,{})]})]})]})})})};var Je=function(e){var t=e.data,a=void 0===t?[]:t,r=e.page,c=void 0===r?1:r,A=e.totalPage,s=void 0===A?1:A,i=e.region,o=void 0===i?"":i,l=e.onChange,u=Object(n.useState)(""),d=Object(S.a)(u,2),b=d[0],j=d[1],p=Object(n.useState)(!1),x=Object(S.a)(p,2),m=x[0],f=x[1];return Object(g.jsxs)("div",{className:"pb-16",children:[a.length?Object(g.jsx)("div",{className:"flex flex-wrap -mx-1 mt-4",children:a.map((function(e,t){var a={name:e.name,price:e.price,code:e.ASIN,imageUrl:e.image_url[0],"Resoluion & Frame Rate":e["Resoluion & Frame Rate"],Function:e.Function,Certification:e.Certification,ranking:e.ranking,mission:e.mission};return Object(g.jsx)("div",{className:"mx-1 mb-2",style:{width:"calc(20% - 0.5rem)"},onClick:function(){return function(e){j(e),f(!0)}(e.ASIN)},children:Object(g.jsx)(de,Object(T.a)({},a))},t)}))}):Object(g.jsx)("div",{className:"flex justify-center items-center px-4 py-8",children:Object(g.jsx)("h3",{className:"text-gray-400",children:"No Data"})}),s>=1&&Object(g.jsx)("div",{className:"flex justify-center my-8",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:s,currentPage:c,onCurrentChange:function(e){return l(e)}})}),Object(g.jsx)(Xe,{visible:m,region:o,asin:b,setVisible:f})]})};function $e(e){var t=e.items.content.sort((function(e,t){return t.review-e.review}));return[t.map((function(e){return e.name})),t.map((function(e){return{data:e.asin,value:e.review}}))]}function et(e){var t=e.items.content.sort((function(e,t){return t.count-e.count}));return[t.map((function(e){return e.name})),t.map((function(e){return{name:e.name,data:e.ASIN,value:e.count}})),t.map((function(e){return e.avg_rank}))]}var tt=function(){var e=Object(n.useState)("webcam"),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)("US"),A=Object(S.a)(c,2),s=A[0],i=A[1],o=Object(n.useState)("ranking"),l=Object(S.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)(1),j=Object(S.a)(b,2),p=j[0],x=j[1],m=Object(n.useState)(""),f=Object(S.a)(m,2),h=f[0],O=f[1],v=Object(n.useState)(null),y=Object(S.a)(v,2),k=y[0],N=y[1],C=Object(n.useState)(null),_=Object(S.a)(C,2),D=_[0],z=_[1],P=Object(n.useState)(null),E=Object(S.a)(P,2),H=E[0],U=E[1],L=Object(n.useState)(null),F=Object(S.a)(L,2),V=F[0],I=F[1],q=Object(n.useState)(null),M=Object(S.a)(q,2),K=M[0],W=M[1],G=Object(n.useState)([]),Q=Object(S.a)(G,2),Z=Q[0],Y=Q[1],J=Object(n.useState)(null),ee=Object(S.a)(J,2),ae=ee[0],se=ee[1],ie=Object(n.useState)(null),ue=Object(S.a)(ie,2),de=ue[0],be=ue[1],je=Object(n.useState)(null),pe=Object(S.a)(je,2),xe=pe[0],me=pe[1],fe=Object(n.useState)(""),he=Object(S.a)(fe,2),Oe=he[0],ve=he[1],ge=Object(n.useState)(""),ye=Object(S.a)(ge,2),we=ye[0],ke=ye[1],Se=Object(n.useState)(null),Be=Object(S.a)(Se,2),De=Be[0],ze=Be[1],Pe=Object(n.useState)(!1),Ee=Object(S.a)(Pe,2),Fe=Ee[0],Ve=Ee[1],qe=Object(n.useState)(!1),Me=Object(S.a)(qe,2),Ke=Me[0],We=Me[1],Ge=[{label:"Webcam",value:"webcam"},{label:"Doc cam",value:"document camera"},{label:"Projector",value:"video projector"}],Qe=[{label:"US",value:"US"},{label:"UK",value:"UK"}];Object(n.useEffect)((function(){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe({url:"/market/dashboard_show_time",method:"GET"});case 2:t=e.sent,a=t.data,O(a.dashboard_time);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return We(!0),t={category:a,region:s},e.prev=2,e.t0=ze,e.next=6,oe({url:"/market/get_FTI_rankings",method:"GET",params:t});case 6:return e.t1=e.sent.data,(0,e.t0)(e.t1),e.t2=N,e.next=11,Re(t);case 11:return e.t3=e.sent.data,(0,e.t2)(e.t3),e.t4=z,e.next=16,Ie(t);case 16:return e.t5=e.sent.data,(0,e.t4)(e.t5),e.t6=W,e.next=21,Le(t);case 21:return e.t7=e.sent.data,(0,e.t6)(e.t7),e.t8=Y,e.next=26,Ce(t);case 26:return e.t9=e.sent.data.items.map((function(e){return{name:e.brand,value:e.count}})),(0,e.t8)(e.t9),e.t10=se,e.next=31,Te(t);case 31:return e.t11=e.sent.data,(0,e.t10)(e.t11),e.t12=be,e.next=36,_e(t);case 36:return e.t13=e.sent.data,(0,e.t12)(e.t13),e.t14=U,e.next=41,Ue(t);case 41:return e.t15=e.sent.data,(0,e.t14)(e.t15),e.t16=I,e.next=46,He(t);case 46:e.t17=e.sent.data,(0,e.t16)(e.t17);case 48:return e.prev=48,We(!1),e.finish(48);case 51:case"end":return e.stop()}}),e,null,[[2,,48,51]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,s]),Object(n.useEffect)((function(){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={category:a,region:s,page:p,sorting:u},e.next=3,le(t);case 3:n=e.sent,r=n.data,me(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,s,u,p]);var Ze,Ye=function(){var e=Object(B.a)(R.a.mark((function e(t){var n,r,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={category:a,region:s,brand:t},"others"!==t){e.next=7;break}return e.next=4,Ce(Object(T.a)(Object(T.a)({},n),{},{dashboard:1}));case 4:r=e.sent,c=r.data,n.others=c.brands.reduce((function(e,t,a){return a?"".concat(e,",").concat(t):t}),"");case 7:return ve(t),ke(t),e.t0=z,e.next=12,Ie(n);case 12:return e.t1=e.sent.data,(0,e.t0)(e.t1),e.t2=W,e.next=17,Le(n);case 17:e.t3=e.sent.data,(0,e.t2)(e.t3);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(B.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={category:a,region:s},"sponsored"!==t){e.next=8;break}return ke(""),e.t0=W,e.next=6,Le(n);case 6:e.t1=e.sent.data,(0,e.t0)(e.t1);case 8:if("amazons"!==t){e.next=15;break}return ve(""),e.t2=z,e.next=13,Ie(n);case 13:e.t3=e.sent.data,(0,e.t2)(e.t3);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(B.a)(R.a.mark((function e(t){var n,r,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={category:a,region:s,dl:1,asin:t.join(",")},e.next=3,le(n);case 3:r=e.sent,c=r.request,window.open(c.responseURL,"__blank");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex items-end mb-4",children:[Object(g.jsx)(w.Select,{className:"mr-4",value:a,placeholder:"Select",onChange:function(e){return r(e)},children:Ge.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(w.Select,{className:"mr-4",value:s,placeholder:"Select",onChange:function(e){return i(e)},children:Qe.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsxs)("p",{className:"text-xl text-context",children:["Last Update: ",h]})]}),Ke?Object(g.jsx)("div",{className:"bg-background flex justify-center items-center",style:{minHeight:"300px"},children:Object(g.jsx)(w.Loading,{})}):Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsxs)("div",{className:"w-7/12 pr-2",children:[Object(g.jsx)(w.Card,{className:"mb-4",children:Object(g.jsx)($,{title:"Price Distribution",titleFontSize:18,height:"400px",names:["Quantity","Value (M in USD)"],totals:[{name:"Review Quantity"},{name:"Product Model"},{name:"Revenue(million USD)",fixed:!0}],data:X(k,a)})}),Object(g.jsxs)("div",{className:"flex mb-4",children:[Object(g.jsx)("div",{className:"w-1/2 pr-2",children:H&&Object(g.jsx)(ce,{title:"Most Popular Resolution",context:H.tag,reviewsContext:"".concat(H.review_number)})}),Object(g.jsx)("div",{className:"w-1/2 pl-2",children:V&&Object(g.jsx)(ce,{title:"Most Popular Price Range",context:V.price,reviewsContext:"".concat(V.review)})})]}),Object(g.jsx)(w.Card,{children:de&&Object(g.jsx)(re,{title:"Top Product - New Reviews",titleFontSize:18,height:"400px",data:$e(de),dataItemName:"Reviews"})})]}),Object(g.jsxs)("div",{className:"w-5/12 pl-2",children:[Object(g.jsx)(w.Card,{className:"mb-4",children:Object(g.jsx)(te,{title:"Top Brand",titleFontSize:18,subtitle:"Product Models in Top 100",subtitleFontSize:16,height:"300px",data:Z,hasLegend:!0,onClick:Ye})}),Object(g.jsxs)("div",{className:"flex mb-4",children:[Object(g.jsx)("div",{className:"w-1/2 pr-2",children:Object(g.jsx)(w.Card,{children:Object(g.jsx)(ne,{height:"200px",title:"Sponsored Rate",titleFontSize:18,name:"Sponsored",brand:we,color:"#fb8c3b",percentage:K?Math.round(100*K.sponsored_rate):0,onClear:function(){return Xe("sponsored")}})})}),Object(g.jsx)("div",{className:"w-1/2 pl-2",children:Object(g.jsx)(w.Card,{children:Object(g.jsx)(ne,{height:"200px",title:"Amazon's Choice",titleFontSize:18,name:"Amazon\u2019s Choice",brand:Oe,color:"#2e78b4",percentage:D?Math.round(100*D.amazons_choice_rate):0,onClear:function(){return Xe("amazons")}})})})]}),Object(g.jsx)(w.Card,{children:ae&&Object(g.jsx)(Ae,{title:"Top Product - No. of Times in Top 30",titleFontSize:18,height:"400px",data:et(ae),padding:"0 20px 0 50px"})})]})]}),Object(g.jsx)("div",{className:"w-7/12 pr-2 mt-4",children:Object(g.jsx)(w.Card,{children:Object(g.jsx)($,{title:"FTI Ranking",titleFontSize:18,height:"400px",names:[""],inverse:!0,data:(Ze=De,Ze?{axis:Ze.data.map((function(e){return e.mission})).reduce((function(e,t){return e.includes(t)||e.push(t),e}),[]),series:Ze.data.map((function(e){return e.model})).reduce((function(e,t){return e.includes(t)||e.push(t),e}),[]).map((function(e){var t=Ze.data.filter((function(t){return t.model===e})).map((function(e){return e.ranking}));return{type:"line",name:e,data:t,yAxisIndex:0}}))}:null)})})})]}),Object(g.jsxs)("div",{className:"mt-16",children:[Object(g.jsxs)("div",{className:"flex justify-between items-end",children:[Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("p",{className:"text-2xl mr-2",children:"Top 100"}),Object(g.jsx)(w.Button,{type:"primary",onClick:function(){return Ve(!0)},children:"Download"})]}),Object(g.jsx)(w.Select,{value:u,placeholder:"Select",onChange:function(e){return d(e)},children:[{label:"Recent Ranking",value:"ranking"},{label:"Recent Price",value:"price"}].map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))})]}),xe&&Object(g.jsx)(Je,{data:xe.prods,region:s,page:xe.info.current_page,totalPage:xe.info.max_page,onChange:x})]}),Object(g.jsx)(Ne,{visible:Fe,setVisible:Ve,params:{category:a,region:s},onDownload:tt})]})};var at,nt=function(e){var t=e.date,a=e.setDate,r=e.disabledDate,c=Object(n.useRef)();return Object(g.jsxs)("div",{className:"relative mr-4",children:[Object(g.jsx)(w.DateRangePicker,{ref:c,isShowTrigger:!1,isReadOnly:!0,value:t,disabledDate:r,onChange:a}),Object(g.jsx)(pe.a,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-primary cursor-pointer",onClick:function(){c.current.refs.inputRoot.focus()}})]})};!function(e){e[e.CHART=0]="CHART",e[e.TABLE=1]="TABLE"}(at||(at={}));var rt=function(e){var t=e.width,a=void 0===t?"100%":t,n=e.height,r=void 0===n?"400px":n,c=e.columns,A=void 0===c?[]:c,s=e.data,i=void 0===s?[]:s,o=e.onDownload;return Object(g.jsxs)("div",{className:"relative overflow-y-scroll",style:{height:r},children:[Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30",onClick:o}),Object(g.jsx)("div",{style:{width:a},children:Object(g.jsx)(w.Table,{className:"h-full pt-4",style:{width:a},columns:A,data:i,border:!0})})]})};var ct=function(){var e=Object(n.useState)(at.CHART),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),A=Object(S.a)(c,2),s=A[0],i=A[1],o=Object(n.useState)("webcam"),l=Object(S.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)("US"),j=Object(S.a)(b,2),p=j[0],x=j[1],m=Object(n.useState)(ye()),f=Object(S.a)(m,2),h=f[0],O=f[1],v=Object(n.useState)({}),y=Object(S.a)(v,2),k=y[0],N=y[1],C=Object(n.useState)(null),_=Object(S.a)(C,2),D=_[0],z=_[1],P=Object(n.useState)(1),E=Object(S.a)(P,2),H=E[0],U=E[1],L=Object(n.useState)(1),F=Object(S.a)(L,2),V=F[0],I=F[1],q=Object(n.useState)(!1),M=Object(S.a)(q,2),K=M[0],W=M[1],G=Object(n.useState)(null),Q=Object(S.a)(G,2),Z=Q[0],Y=Q[1],J=Object(n.useState)(null),ee=Object(S.a)(J,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(null),re=Object(S.a)(ne,2),ce=re[0],Ae=re[1],se=[{label:"Webcam",value:"webcam"},{label:"Doc cam",value:"document camera"},{label:"Projector",value:"video projector"}],ie=[{label:"US",value:"US"},{label:"UK",value:"UK"}],oe=Object(n.useMemo)((function(){if(!D)return[-1,-1];var e=D.split("~");return[parseInt(e[0],10),parseInt(e[1],10)]}),[D]),ue=Object(S.a)(oe,2),de=ue[0],je=ue[1],pe=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(h),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:u,region:p,start_at:n,end_at:r,page:H},k),i(!0),e.next=5,Re(c);case 5:A=e.sent,s=A.data,Y(s),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(h),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:u,region:p,start_at:n,end_at:r,page:H},k),i(!0),e.next=5,De(c);case 5:A=e.sent,s=A.data,ae(s),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(h),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:u,region:p,page:V,start_at:n,end_at:r},k),D&&(c.min_price=de,c.max_price=je),e.next=5,le(c);case 5:A=e.sent,s=A.data,Ae(s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){U(1),I(1),a===at.CHART&&pe(),a===at.TABLE&&1===H&&xe(),1===V&&he()}),[p,h,k]),be((function(){N({})}),[u]),be((function(){a===at.CHART&&pe(),a===at.TABLE&&xe()}),[a,H]),be((function(){he()}),[V]),be((function(){I(1),1===V&&he()}),[D]);var Oe=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r,c,A,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(h),n=Object(S.a)(a,2),r=n[0],c=n[1],A=Object(T.a)({category:u,region:p,start_at:r,end_at:c,asin:t.join(","),dl:1},k),e.next=4,le(A);case 4:s=e.sent,i=s.request,window.open(i.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(h),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:u,region:p,start_at:n,end_at:r,page:H,dl:1},k),e.next=4,De(c);case 4:A=e.sent,s=A.request,window.open(s.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex items-center mb-4",children:[Object(g.jsx)(w.Select,{className:"mr-4",value:u,placeholder:"Select",onChange:function(e){return d(e)},children:se.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(w.Select,{className:"mr-4",value:p,placeholder:"Select",onChange:function(e){return x(e)},children:ie.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(nt,{date:h,setDate:O,disabledDate:function(e){return 0!==me()(e).day()}}),Object(g.jsxs)("div",{className:"text-2xl cursor-pointer",onClick:function(){a===at.CHART&&r(at.TABLE),a===at.TABLE&&r(at.CHART)},children:[a===at.CHART&&Object(g.jsx)(We.b,{}),a===at.TABLE&&Object(g.jsx)(fe.b,{})]})]}),Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"w-2/3 pr-2",children:Object(g.jsxs)(w.Card,{className:"mb-4",style:{minHeight:"640px"},children:[s&&Object(g.jsx)("div",{className:"w-full h-dialog flex justify-center items-center",children:Object(g.jsx)(w.Loading,{})}),a===at.CHART&&!s&&Object(g.jsx)($,{title:"Price Distribution",height:"600px",names:["Quantity","Value (M in USD)"],totals:[{name:"Review Quantity"},{name:"Product Model"},{name:"Revenue(million USD)",fixed:!0}],data:X(Z,u),onClick:function(e){return z(e)}}),a===at.TABLE&&te&&!s&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(rt,{height:"572px",columns:[{label:"Product",prop:"Product"},{label:"Brand",prop:"Brand"},{label:"Price",prop:"Price"},{label:"Sales Volume",prop:"Sales Volume"},{label:"Revenue",prop:"Revenue"}],data:te.items.content,onDownload:we}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:te.info.max_page,small:!0,currentPage:te.items.current_page,onCurrentChange:function(e){return U(e)}})})]})]})}),Object(g.jsx)("div",{className:"w-1/3 pl-2",children:Object(g.jsx)(w.Card,{children:Object(g.jsx)(ve,{height:"600px",type:u,onFilter:N})})})]}),Object(g.jsxs)("div",{className:"mt-16",children:[Object(g.jsxs)("div",{className:"flex",children:[D?Object(g.jsxs)("p",{className:"text-2xl mr-2",children:["$",de," ~ $",je," Products"]}):Object(g.jsx)("p",{className:"text-2xl mr-2",children:"Top 100 Products"}),Object(g.jsx)(w.Button,{type:"primary",onClick:function(){return W(!0)},children:"Download"}),D&&Object(g.jsx)(w.Button,{type:"info",onClick:function(){return z(null)},children:"Top 100"})]}),ce&&Object(g.jsx)(Je,{data:ce.prods,region:p,page:ce.info.current_page,totalPage:ce.info.max_page,onChange:I})]}),Object(g.jsx)(Ne,{visible:K,setVisible:W,params:Object(T.a)({category:u,region:p,date:h},k),onDownload:Oe})]})};z.a([P.a,E.a,H.a,U.a,L.a,F.a,I.a]);var At=function(e){var t=Object(n.useRef)(null),a=e.width,r=void 0===a?"100%":a,c=e.height,A=void 0===c?"400px":c,i=e.title,o=void 0===i?"Title":i,l=e.titleFontSize,u=void 0===l?24:l,d=e.data,b=void 0===d?null:d,j=e.onClick,p=function(e){if(!e)return[[],[],{},[]];var t=["Available, instock unknown","High stock","Low stock","Out of stock"],a=e.info.x_axis,n=e.items.map((function(e){return t.reduce((function(t,a){return t+e[a]}),0)})),r=t.reduce((function(t,a){return t[a]=e.items.map((function(e,t){return 100*e[a]/n[t]})),t}),{});return[t,a,r,n]}(b),x=Object(S.a)(p,4),m=x[0],f=x[1],h=x[2],O=x[3],v={title:{text:o,textStyle:{fontSize:u}},grid:{backgroundColor:"white",top:70,right:50,left:50},legend:{data:m,bottom:0},tooltip:{trigger:"axis",formatter:function(e){return"\n                    ".concat(e[0].name," <br />\n                    ").concat(e.map((function(e){return'\n                        <div  style="display: flex; justify-content: space-between;">\n                            <span style="margin-right: 15px;">'.concat(e.marker," ").concat(e.seriesName,"</span> ").concat(Math.round(e.value*O[e.dataIndex]/100)," <br />\n                        </div>\n                    ")})).join(""),"\n                ")}},xAxis:[{type:"category",boundaryGap:!1,data:f}],yAxis:[{type:"value",min:0,max:100,axisLabel:{formatter:"{value} %"}}],series:[{type:"line",name:"Out of stock",stack:"stack",data:h["Out of stock"],symbolSize:8,itemStyle:{color:"#FF5757"},areaStyle:{color:"#FF5757"}},{type:"line",name:"Low stock",stack:"stack",data:h["Low stock"],symbolSize:8,itemStyle:{color:"#FFC000"},areaStyle:{color:"#FFC000"}},{type:"line",name:"High stock",stack:"stack",data:h["High stock"],symbolSize:8,itemStyle:{color:"#9DC3E6"},areaStyle:{color:"#9DC3E6"}},{type:"line",name:"Available, instock unknown",stack:"stack",data:h["Available, instock unknown"],symbolSize:8,itemStyle:{color:"#ACACAC"},areaStyle:{color:"#ACACAC"}}]};Object(n.useEffect)((function(){if(t.current){var e=s.b(t.current,"customed");e.setOption(v);var a=!1;e.on("click",(function(e){if(j&&b&&e){if(a)return;var t=b.info.x_axis[e.dataIndex],n=e.seriesName;j("".concat(t,", ").concat(n)),setTimeout((function(){return a=!1}),1e3)}}))}}));var y=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsx)("div",{ref:t,style:{width:r,height:A}}),Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30",onClick:y})]})};var st=function(){var e=Object(n.useState)(at.CHART),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),A=Object(S.a)(c,2),s=A[0],i=A[1],o=Object(n.useState)(!1),l=Object(S.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)("webcam"),j=Object(S.a)(b,2),p=j[0],x=j[1],m=Object(n.useState)("US"),f=Object(S.a)(m,2),h=f[0],O=f[1],v=Object(n.useState)(ye()),y=Object(S.a)(v,2),k=y[0],N=y[1],C=Object(n.useState)({}),_=Object(S.a)(C,2),D=_[0],z=_[1],P=Object(n.useState)(null),E=Object(S.a)(P,2),H=E[0],U=E[1],L=Object(n.useState)(null),F=Object(S.a)(L,2),V=F[0],I=F[1],q=Object(n.useState)(null),M=Object(S.a)(q,2),K=M[0],W=M[1],G=Object(n.useState)(1),Q=Object(S.a)(G,2),Z=Q[0],Y=Q[1],X=Object(n.useState)(1),J=Object(S.a)(X,2),$=J[0],ee=J[1],te=Object(n.useState)(null),ne=Object(S.a)(te,2),re=ne[0],ce=ne[1],Ae=Object(n.useState)(null),se=Object(S.a)(Ae,2),ie=se[0],oe=se[1],ue=Object(n.useState)(null),de=Object(S.a)(ue,2),je=de[0],pe=de[1],xe=[{label:"Webcam",value:"webcam"},{label:"Doc cam",value:"document camera"},{label:"Projector",value:"video projector"}],he=[{label:"US",value:"US"},{label:"UK",value:"UK"}],Oe=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(k),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:p,region:h,start_at:n,end_at:r,page:Z},D),i(!0),e.next=5,Be(c);case 5:A=e.sent,s=A.data,ce(s),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(k),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:p,region:h,start_at:n,end_at:r,page:Z},D),i(!0),e.next=5,De(c);case 5:A=e.sent,s=A.data,oe(s),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("stock",H),t={Available:"unknown","High stock":"high","Low stock":"low","Out of stock":"out",default:""},a=ge(K||k),n=Object(S.a)(a,2),r=n[0],c=n[1],A=Object(T.a)({category:p,region:h,page:$,start_at:r,end_at:c},D),H&&(A.stock=t[H]),e.next=7,le(A);case 7:s=e.sent,i=s.data,pe(i);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){Y(1),ee(1),a===at.CHART&&Oe(),a===at.TABLE&&1===Z&&we(),1===$&&ke()}),[h,k,D]),be((function(){z({})}),[p]),be((function(){a===at.CHART&&Oe(),a===at.TABLE&&we()}),[a]),be((function(){a===at.TABLE&&we()}),[Z]),be((function(){ke()}),[$]),be((function(){1===$&&ke()}),[H]);var Se=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r,c,A,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(k),n=Object(S.a)(a,2),r=n[0],c=n[1],A=Object(T.a)({category:p,region:h,start_at:r,end_at:c,dl:1,asin:t.join(",")},D),e.next=4,le(A);case 4:s=e.sent,i=s.request,window.open(i.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(k),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:p,region:h,start_at:n,end_at:r,page:Z,dl:1},D),e.next=4,De(c);case 4:A=e.sent,s=A.request,window.open(s.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(t),ee(1),t?(a=me()(t.split(",")[0].trim()).toDate(),n=t.split(",")[1].trim(),U(n),W([a,a])):(U(null),W(null));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex items-center mb-4",children:[Object(g.jsx)(w.Select,{className:"mr-4",value:p,placeholder:"Select",onChange:function(e){return x(e)},children:xe.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(w.Select,{className:"mr-4",value:h,placeholder:"Select",onChange:function(e){return O(e)},children:he.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(nt,{date:k,setDate:N,disabledDate:function(e){return 0!==me()(e).day()}}),Object(g.jsx)(w.Tooltip,{className:"mr-4",effect:"dark",content:Object(g.jsx)("div",{style:{maxWidth:"200px"},children:"The Stock level of each product is estimated by the maximum buying number limit in a single order. Thus, Identification between high stock and low stock may have certain deviation."}),placement:"bottom",children:Object(g.jsx)(ae.a,{className:"text-2xl"})}),Object(g.jsxs)("div",{className:"text-2xl cursor-pointer",onClick:function(){a===at.CHART&&r(at.TABLE),a===at.TABLE&&r(at.CHART)},children:[a===at.CHART&&Object(g.jsx)(We.b,{}),a===at.TABLE&&Object(g.jsx)(fe.b,{})]})]}),Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"w-2/3 pr-2",children:Object(g.jsxs)(w.Card,{className:"mb-4",style:{minHeight:"642px"},children:[s&&Object(g.jsx)("div",{className:"w-full h-dialog flex justify-center items-center",children:Object(g.jsx)(w.Loading,{})}),a===at.CHART&&!s&&Object(g.jsx)(At,{title:"Stock Level",height:"600px",data:re,onClick:Te}),a===at.TABLE&&ie&&!s&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(rt,{height:"572px",columns:[{label:"Product",prop:"Product"},{label:"Brand",prop:"Brand"},{label:"Stock Level",prop:"Stock Level"},{label:"Date",prop:"Date"}],data:ie.items.content,onDownload:Ce}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:ie.info.max_page,small:!0,currentPage:ie.items.current_page,onCurrentChange:function(e){return Y(e)}})})]})]})}),Object(g.jsx)("div",{className:"w-1/3 pl-2",children:Object(g.jsx)(w.Card,{children:Object(g.jsx)(ve,{height:"600px",type:p,onFilter:z})})})]}),Object(g.jsxs)("div",{className:"mt-16",children:[Object(g.jsxs)("div",{className:"flex",children:[V?Object(g.jsx)("p",{className:"text-2xl mr-2",children:V}):Object(g.jsx)("p",{className:"text-2xl mr-2",children:"Top 100 Products"}),Object(g.jsx)(w.Button,{type:"primary",onClick:function(){return d(!0)},children:"Download"}),V&&Object(g.jsx)(w.Button,{type:"info",onClick:function(){return I(null)},children:"Top 100"})]}),je&&Object(g.jsx)(Je,{data:je.prods,region:h,page:je.info.current_page,totalPage:je.info.max_page,onChange:ee})]}),Object(g.jsx)(Ne,{visible:u,setVisible:d,params:Object(T.a)({category:p,region:h,date:k,stock:H},D),onDownload:Se})]})};function it(e){var t=e.items.content.sort((function(e,t){return t.review-e.review}));return[t.map((function(e){return e.name})),t.map((function(e){return{data:e.asin,value:e.review}}))]}var ot=function(){var e=Object(n.useState)(at.CHART),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),A=Object(S.a)(c,2),s=A[0],i=A[1],o=Object(n.useState)(!1),l=Object(S.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)("webcam"),j=Object(S.a)(b,2),p=j[0],x=j[1],m=Object(n.useState)("US"),f=Object(S.a)(m,2),h=f[0],O=f[1],v=Object(n.useState)(ye()),y=Object(S.a)(v,2),k=y[0],N=y[1],C=Object(n.useState)({}),_=Object(S.a)(C,2),D=_[0],z=_[1],P=Object(n.useState)(null),E=Object(S.a)(P,2),H=E[0],U=E[1],L=Object(n.useState)(1),F=Object(S.a)(L,2),V=F[0],I=F[1],q=Object(n.useState)(1),M=Object(S.a)(q,2),K=M[0],W=M[1],G=Object(n.useState)(1),Q=Object(S.a)(G,2),Z=Q[0],Y=Q[1],X=Object(n.useState)(null),J=Object(S.a)(X,2),$=J[0],ee=J[1],te=Object(n.useState)(null),ne=Object(S.a)(te,2),ce=ne[0],Ae=ne[1],se=Object(n.useState)(null),ie=Object(S.a)(se,2),oe=ie[0],ue=ie[1],de=[{label:"Webcam",value:"webcam"},{label:"Doc cam",value:"document camera"},{label:"Projector",value:"video projector"}],je=[{label:"US",value:"US"},{label:"UK",value:"UK"}],pe=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(k),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:p,region:h,start_at:n,end_at:r,page:V},D),i(!0),e.next=5,_e(c);case 5:A=e.sent,s=A.data,ee(s),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(k),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:p,region:h,start_at:n,end_at:r,page:K},D),i(!0),e.next=5,ze(c);case 5:A=e.sent,s=A.data,Ae(s),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(k),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:p,region:h,page:Z,start_at:n,end_at:r},D),H&&(c.asin=H),e.next=5,le(c);case 5:A=e.sent,s=A.data,ue(s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){I(1),W(1),Y(1),a===at.CHART&&1===V&&pe(),a===at.TABLE&&1===K&&xe(),1===Z&&he()}),[h,k,D]),be((function(){z({})}),[p]),be((function(){a===at.CHART&&pe(),a===at.TABLE&&xe()}),[a]),be((function(){a===at.CHART&&pe(),a===at.TABLE&&xe()}),[V,K]),be((function(){he()}),[Z]),be((function(){Y(1),1===Z&&he()}),[H]);var Oe=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r,c,A,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(k),n=Object(S.a)(a,2),r=n[0],c=n[1],A=Object(T.a)({category:p,region:h,start_at:r,end_at:c,dl:1,asin:t.join(",")},D),e.next=4,le(A);case 4:s=e.sent,i=s.request,window.open(i.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(k),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:p,region:h,start_at:n,end_at:r,page:V,dl:1},D),e.next=4,ze(c);case 4:A=e.sent,s=A.request,window.open(s.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex items-center mb-4",children:[Object(g.jsx)(w.Select,{className:"mr-4",value:p,placeholder:"Select",onChange:function(e){return x(e)},children:de.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(w.Select,{className:"mr-4",value:h,placeholder:"Select",onChange:function(e){return O(e)},children:je.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(nt,{date:k,setDate:N,disabledDate:function(e){return 0!==me()(e).day()}}),Object(g.jsx)(w.Tooltip,{className:"mr-4",effect:"dark",content:Object(g.jsx)("div",{style:{maxWidth:"200px"},children:"The review numbers of products on Amazon may recount in certain situation, making some of the products' review numbers unavailable in certain period. Please notice that these products will not be shown on the table."}),placement:"bottom",children:Object(g.jsx)(ae.a,{className:"text-2xl"})}),Object(g.jsxs)("div",{className:"text-2xl cursor-pointer",onClick:function(){a===at.CHART&&r(at.TABLE),a===at.TABLE&&r(at.CHART)},children:[a===at.CHART&&Object(g.jsx)(We.b,{}),a===at.TABLE&&Object(g.jsx)(fe.b,{})]})]}),Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"w-2/3 pr-2",children:Object(g.jsxs)(w.Card,{className:"mb-4",style:{minHeight:"642px"},children:[s&&Object(g.jsx)("div",{className:"w-full h-dialog flex justify-center items-center",children:Object(g.jsx)(w.Loading,{})}),a===at.CHART&&$&&!s&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(re,{title:"Top Product - New Reviews",height:"572px",data:it($),dataItemName:"Reviews",onClick:function(e){return U(e)}}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:$.info.max_page,small:!0,currentPage:$.items.current_page,onCurrentChange:function(e){return I(e)}})})]}),a===at.TABLE&&ce&&!s&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(rt,{height:"572px",columns:[{label:"Product",prop:"Product"},{label:"Brand",prop:"Brand"},{label:"Price",prop:"Price",sortable:!0},{label:"Total Reviews",prop:"Total Reviews"},{label:"New Reviews",prop:"New Reviews"}],data:ce.items.content,onDownload:we}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:ce.info.max_page,small:!0,currentPage:ce.items.current_page,onCurrentChange:function(e){return W(e)}})})]})]})}),Object(g.jsx)("div",{className:"w-1/3 pl-2",children:Object(g.jsx)(w.Card,{children:Object(g.jsx)(ve,{height:"600px",type:p,onFilter:z})})})]}),Object(g.jsxs)("div",{className:"mt-16",children:[Object(g.jsxs)("div",{className:"flex",children:[H?Object(g.jsx)("p",{className:"text-2xl mr-2",children:H}):Object(g.jsx)("p",{className:"text-2xl mr-2",children:"Top 100 Products"}),Object(g.jsx)(w.Button,{type:"primary",onClick:function(){return d(!0)},children:"Download"}),H&&Object(g.jsx)(w.Button,{type:"info",onClick:function(){return U(null)},children:"Top 100"})]}),oe&&Object(g.jsx)(Je,{data:oe.prods,region:h,page:oe.info.current_page,totalPage:oe.info.max_page,onChange:Y})]}),Object(g.jsx)(Ne,{visible:u,setVisible:d,params:{category:p,region:h,date:k,asin:H},onDownload:Oe})]})};function lt(e){var t=e.items.content.sort((function(e,t){return t.count-e.count}));return[t.map((function(e){return e.name})),t.map((function(e){return{name:e.name,data:e.ASIN,value:e.count}})),t.map((function(e){return e.avg_rank}))]}var ut=function(){var e=Object(n.useState)(at.CHART),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),A=Object(S.a)(c,2),s=A[0],i=(A[1],Object(n.useState)(!1)),o=Object(S.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)("webcam"),b=Object(S.a)(d,2),j=b[0],p=b[1],x=Object(n.useState)("US"),m=Object(S.a)(x,2),f=m[0],h=m[1],O=Object(n.useState)(ye()),v=Object(S.a)(O,2),y=v[0],k=v[1],N=Object(n.useState)({}),C=Object(S.a)(N,2),_=C[0],D=C[1],z=Object(n.useState)(null),P=Object(S.a)(z,2),E=P[0],H=P[1],U=Object(n.useState)(1),L=Object(S.a)(U,2),F=L[0],V=L[1],I=Object(n.useState)(1),q=Object(S.a)(I,2),M=q[0],K=q[1],W=Object(n.useState)(1),G=Object(S.a)(W,2),Q=G[0],Z=G[1],Y=Object(n.useState)(null),X=Object(S.a)(Y,2),J=X[0],$=X[1],ee=Object(n.useState)(null),te=Object(S.a)(ee,2),ne=te[0],re=te[1],ce=Object(n.useState)(null),se=Object(S.a)(ce,2),ie=se[0],oe=se[1],ue=[{label:"Webcam",value:"webcam"},{label:"Doc cam",value:"document camera"},{label:"Projector",value:"video projector"}],de=[{label:"US",value:"US"},{label:"UK",value:"UK"}],je=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(y),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:j,region:f,start_at:n,end_at:r,page:F},_),e.next=4,Te(c);case 4:A=e.sent,s=A.data,$(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(y),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:j,region:f,start_at:n,end_at:r,page:M},_),e.next=4,Ee(c);case 4:A=e.sent,s=A.data,re(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(y),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:j,region:f,page:Q,start_at:n,end_at:r,top_product:1},_),E&&(c.asin=E),e.next=5,le(c);case 5:A=e.sent,s=A.data,oe(s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){V(1),K(1),Z(1),H(null),a===at.CHART&&1===F&&je(),a===at.TABLE&&1===M&&pe(),1===Q&&null===E&&xe()}),[f,y,_]),be((function(){D({})}),[j]),be((function(){a===at.CHART&&je(),a===at.TABLE&&pe()}),[a,F,M]),be((function(){xe()}),[Q]),be((function(){Z(1),1===Q&&xe()}),[E]);var he=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r,c,A,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(y),n=Object(S.a)(a,2),r=n[0],c=n[1],A=Object(T.a)({category:j,region:f,start_at:r,end_at:c,top_product:1,dl:1,asin:t.join(",")},_),e.next=4,le(A);case 4:s=e.sent,i=s.request,window.open(i.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(y),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:j,region:f,start_at:n,end_at:r,page:F,dl:1},_),e.next=4,Ee(c);case 4:A=e.sent,s=A.request,window.open(s.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex items-center mb-4",children:[Object(g.jsx)(w.Select,{className:"mr-4",value:j,placeholder:"Select",onChange:function(e){return p(e)},children:ue.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(w.Select,{className:"mr-4",value:f,placeholder:"Select",onChange:function(e){return h(e)},children:de.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(nt,{date:y,setDate:k,disabledDate:function(e){return 0!==me()(e).day()}}),Object(g.jsx)(w.Tooltip,{className:"mr-4",effect:"dark",content:Object(g.jsx)("div",{style:{maxWidth:"200px"},children:"Sold Amount is estimated by multiplaying new reviews in each price range by 100."}),placement:"bottom",children:Object(g.jsx)(ae.a,{className:"text-2xl"})}),Object(g.jsxs)("div",{className:"text-2xl cursor-pointer",onClick:function(){a===at.CHART&&r(at.TABLE),a===at.TABLE&&r(at.CHART)},children:[a===at.CHART&&Object(g.jsx)(We.b,{}),a===at.TABLE&&Object(g.jsx)(fe.b,{})]})]}),Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"w-2/3 pr-2",children:Object(g.jsxs)(w.Card,{className:"mb-4",style:{minHeight:"642px"},children:[s&&Object(g.jsx)("div",{className:"w-full h-dialog flex justify-center items-center",children:Object(g.jsx)(w.Loading,{})}),a===at.CHART&&J&&!s&&Object(g.jsxs)("div",{children:[Object(g.jsx)(Ae,{title:"Product - No. of Times in Top 30",height:"572px",data:lt(J),onClick:function(e){return H(e)},padding:"0 20px 0 50px"}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:J.info.max_page,small:!0,currentPage:J.items.current_page,onCurrentChange:function(e){return V(e)}})})]}),a===at.TABLE&&ne&&!s&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(rt,{height:"572px",columns:[{label:"Rank",prop:"rank"},{label:"Product",prop:"name"},{label:"Brand",prop:"brand"},{label:"ASIN",prop:"ASIN"},{label:"Sales",prop:"sales",sortable:!0},{label:"Times in Top 30",prop:"count"}],data:ne.items.content,onDownload:Oe}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:ne.info.max_page,small:!0,currentPage:ne.items.current_page,onCurrentChange:function(e){return V(e)}})})]})]})}),Object(g.jsx)("div",{className:"w-1/3 pl-2",children:Object(g.jsx)(w.Card,{children:Object(g.jsx)(ve,{height:"600px",type:j,onFilter:D})})})]}),Object(g.jsxs)("div",{className:"mt-16",children:[Object(g.jsxs)("div",{className:"flex",children:[E?Object(g.jsx)("p",{className:"text-2xl mr-2",children:E}):Object(g.jsx)("p",{className:"text-2xl mr-2",children:"Top 30 Products"}),Object(g.jsx)(w.Button,{type:"primary",onClick:function(){return u(!0)},children:"Download"}),E&&Object(g.jsx)(w.Button,{type:"info",onClick:function(){return H(null)},children:"Top 30"})]}),ie&&Object(g.jsx)(Je,{data:ie.prods,region:f,page:ie.info.current_page,totalPage:ie.info.max_page,onChange:Z})]}),Object(g.jsx)(Ne,{visible:l,setVisible:u,params:Object(T.a)({category:j,region:f,date:y,top_product:1,asin:E},_),onDownload:he})]})};z.a([ee.a,H.a,U.a,L.a,F.a,I.a]);var dt=function(e){var t=Object(n.useRef)(null),a=e.width,r=void 0===a?"100%":a,c=e.height,A=void 0===c?"400px":c,i=e.title,o=void 0===i?"Title":i,l=e.titleFontSize,u=void 0===l?20:l,d=e.subtitle,b=void 0===d?"":d,j=e.subtitleFontSize,p=void 0===j?24:j,x=e.data,m={legend:{bottom:"15%",textStyle:{fontSize:20}},tooltip:{},series:[{type:"pie",center:["50%","40%"],radius:["40%","70%"],left:"left",label:{position:"inner",formatter:"{d}%",color:"white"},labelLine:{show:!1},data:void 0===x?[]:x}]};Object(n.useEffect)((function(){t.current&&s.b(t.current,"customed").setOption(m)}));var f=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsxs)("div",{className:"absolute left-0 top-0",children:[Object(g.jsx)("h3",{className:"font-bold mr-4 text-gray-700",style:{fontSize:u},children:o}),Object(g.jsx)("h3",{className:"font-bold text-gray-500",style:{fontSize:p},children:b})]}),Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30r",onClick:f}),Object(g.jsx)("div",{ref:t,style:{width:r,height:A}})]})};function bt(e){if(!e)return[[],[]];var t=e.items.content.sort((function(e,t){return t.count-e.count}));return[t.map((function(e){return e.brand})),t.map((function(e){return{data:e.brand,value:e.count}}))]}var jt=function(){var e=Object(n.useState)(at.CHART),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),A=Object(S.a)(c,2),s=A[0],i=A[1],o=Object(n.useState)(!1),l=Object(S.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)("webcam"),j=Object(S.a)(b,2),p=j[0],x=j[1],m=Object(n.useState)("US"),f=Object(S.a)(m,2),h=f[0],O=f[1],v=Object(n.useState)(ye()),y=Object(S.a)(v,2),k=y[0],N=y[1],C=Object(n.useState)(null),_=Object(S.a)(C,2),D=_[0],z=_[1],P=Object(n.useState)(1),E=Object(S.a)(P,2),H=E[0],U=E[1],L=Object(n.useState)(1),F=Object(S.a)(L,2),V=F[0],I=F[1],q=Object(n.useState)(1),M=Object(S.a)(q,2),K=M[0],W=M[1],G=Object(n.useState)(null),Q=Object(S.a)(G,2),Z=Q[0],Y=Q[1],X=Object(n.useState)(null),J=Object(S.a)(X,2),$=J[0],ee=J[1],te=Object(n.useState)([]),ne=Object(S.a)(te,2),ce=ne[0],Ae=ne[1],se=Object(n.useState)(null),ie=Object(S.a)(se,2),ue=ie[0],de=ie[1],je=[{label:"Webcam",value:"webcam"},{label:"Doc cam",value:"document camera"},{label:"Projector",value:"video projector"}],pe=[{label:"US",value:"US"},{label:"UK",value:"UK"}],xe=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r,c,A,s,o,l,u,d,b;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(k),n=Object(S.a)(a,2),r=n[0],c=n[1],A={category:p,region:h,start_at:r,end_at:c},i(!0),e.next=5,j=Object(T.a)(Object(T.a)({},A),{},{page:H}),oe({url:"/market/get_top_brand_bar_chart",method:"GET",params:j});case 5:return s=e.sent,o=s.data,e.next=9,Ce(A);case 9:l=e.sent,u=l.data,d=u.items.map((function(e){return{name:e.brand,value:e.count}})),Y(o),Ae(d),t&&(b=o.items.content[0].brand,z(b)),i(!1);case 16:case"end":return e.stop()}var j}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(k),a=Object(S.a)(t,2),n=a[0],r=a[1],c={category:p,region:h,start_at:n,end_at:r},i(!0),e.next=5,Pe(Object(T.a)(Object(T.a)({},c),{},{page:V}));case 5:A=e.sent,s=A.data,ee(s),i(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r,c,A,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(k),n=Object(S.a)(a,2),r=n[0],c=n[1],A={category:p,region:h,page:K,start_at:r,end_at:c},D&&(A.brand=D),t&&(A.brand=t),e.next=6,le(A);case 6:s=e.sent,i=s.data,de(i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){U(1),I(1),W(1),a===at.CHART&&1===H&&xe(!0),a===at.TABLE&&1===V&&he()}),[p,h,k]),be((function(){a===at.CHART&&xe(),a===at.TABLE&&he()}),[a,H,V]),be((function(){Oe()}),[K,D]),be((function(){W(1),1===K&&Oe()}),[D]);var ve=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r,c,A,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(k),n=Object(S.a)(a,2),r=n[0],c=n[1],A={category:p,region:h,start_at:r,end_at:c,dl:1,asin:t.join(",")},e.next=4,le(A);case 4:s=e.sent,i=s.request,window.open(i.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(k),a=Object(S.a)(t,2),n=a[0],r=a[1],c={category:p,region:h,start_at:n,end_at:r,page:H,dl:1},e.next=4,Pe(c);case 4:A=e.sent,s=A.request,window.open(s.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex items-center mb-4",children:[Object(g.jsx)(w.Select,{className:"mr-4",value:p,placeholder:"Select",onChange:function(e){return x(e)},children:je.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(w.Select,{className:"mr-4",value:h,placeholder:"Select",onChange:function(e){return O(e)},children:pe.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(nt,{date:k,setDate:N,disabledDate:function(e){return 0!==me()(e).day()}}),Object(g.jsx)(w.Tooltip,{className:"mr-4",effect:"dark",content:Object(g.jsx)("div",{style:{maxWidth:"200px"},children:"Sold Amount is estimated by multiplaying new reviews in each price range by 100."}),placement:"bottom",children:Object(g.jsx)(ae.a,{className:"text-2xl"})}),Object(g.jsxs)("div",{className:"text-2xl cursor-pointer",onClick:function(){a===at.CHART&&r(at.TABLE),a===at.TABLE&&r(at.CHART)},children:[a===at.CHART&&Object(g.jsx)(We.b,{}),a===at.TABLE&&Object(g.jsx)(fe.b,{})]})]}),Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"w-2/3 pr-2",children:Object(g.jsxs)(w.Card,{className:"mb-4",style:{minHeight:"642px"},children:[s&&Object(g.jsx)("div",{className:"w-full h-dialog flex justify-center items-center",children:Object(g.jsx)(w.Loading,{})}),a===at.CHART&&Z&&!s&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(re,{title:"Brand's Products in Top 100",height:"572px",data:bt(Z),dataItemName:"Products",onClick:function(e){return z(e)}}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:Z.info.max_page,small:!0,currentPage:Z.items.current_page,onCurrentChange:function(e){return U(e)}})})]}),a===at.TABLE&&$&&!s&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(rt,{height:"572px",columns:[{label:"Brand",prop:"brand"},{label:"Products in Top 100",prop:"count",sortable:!0},{label:"Sales Volume",prop:"sales"},{label:"Revenue",prop:"revenue"},{label:"Best Product Ranking",prop:"rank"}],data:$.data.content,onDownload:we}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:$.info.max_page,small:!0,currentPage:$.data.current_page,onCurrentChange:function(e){return U(e)}})})]})]})}),Object(g.jsx)("div",{className:"w-1/3 pl-2",children:Object(g.jsx)(w.Card,{children:Object(g.jsx)(dt,{title:"Top 5 Brands -",titleFontSize:22,subtitle:"Models in Top 100",subtitleFontSize:18,height:"600px",data:ce})})})]}),Object(g.jsxs)("div",{className:"mt-16",children:[Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("p",{className:"text-2xl mr-2",children:D}),Object(g.jsx)(w.Button,{type:"primary",onClick:function(){return d(!0)},children:"Download"})]}),ue&&Object(g.jsx)(Je,{data:ue.prods,region:h,page:ue.info.current_page,totalPage:ue.info.max_page,onChange:W})]}),Object(g.jsx)(Ne,{visible:u,setVisible:d,params:{category:p,region:h,date:k,brand:D},onDownload:ve})]})};var pt=function(e){var t=e.title,a=void 0===t?"":t,r=e.colors,c=void 0===r?["",""]:r,A=e.data,s=e.onClick,i=Object(n.useMemo)((function(){return A.reduce((function(e,t){return e+t.count}),0)}),[A]),o=function(e){s&&s(e)},l=function(e){return{backgroundColor:c[e]}},u=function(e,t){return{background:c[t],width:i?"calc(100% / ".concat(i," * ").concat(e,")"):"50%"}};return Object(g.jsxs)("div",{children:[a&&Object(g.jsx)("h1",{className:"text-2xl",children:a}),Object(g.jsxs)("div",{className:"pt-4",children:[Object(g.jsx)("div",{className:"mx-auto",children:Object(g.jsx)("div",{className:"flex justify-start",style:{height:"100px"},children:A.map((function(e,t){return Object(g.jsx)("div",{className:"flex justify-center items-center cursor-pointer",style:u(e.count,t),onClick:function(){return o(t?0:1)},children:Object(g.jsxs)("p",{className:"text-2xl text-white",children:[e.count?Math.round(e.count/i*100):0,"%"]})},t)}))})}),Object(g.jsx)("div",{className:"flex justify-center items-center mt-4",children:A.map((function(e,t){return Object(g.jsxs)("div",{className:"flex mr-8",children:[Object(g.jsx)("div",{className:"w-4 h-4 mr-2",style:l(t)}),Object(g.jsxs)("h2",{children:["From ",e.source]})]},t)}))})]})]})};z.a([P.a,E.a,H.a,U.a,L.a,F.a,I.a,V.a]);var xt=function(e){var t=Object(n.useRef)(null),a=e.width,r=void 0===a?"100%":a,c=e.height,A=void 0===c?"400px":c,i=e.title,o=void 0===i?"Title":i,l=e.titleFontSize,u=void 0===l?24:l,d=e.data,b=void 0===d?null:d,j=e.names,p=void 0===j?[]:j,x=e.onClick,m=e.yAxisLabel,f=Z(J(0,b).reduce((function(e,t){return t.data.forEach((function(t,a){e[a]?e[a]+=t:e[a]=t})),e}),[])),h=Z([],!0),O={title:{text:o,textStyle:{fontSize:u}},grid:{backgroundColor:"white",top:70,right:70,left:70,bottom:60},legend:{bottom:0,formatter:function(e){return function(e){if(!b)return e;var t=b.series.find((function(t){return t.name===e}));if(!t)return e;if(t.name.includes("Rate"))return e;var a=t.data.reduce((function(e,t){return e+t}),0).toFixed(2);return"".concat(e,", total: ").concat(a)}(e)}},tooltip:{trigger:"axis",formatter:function(e){return'\n                    <div style="min-width: 200px;">\n                        '.concat(e[0].name," <br />\n                        ").concat(e.filter((function(e){return!isNaN(e.value)})).map((function(e){return'\n                            <div  style="display: flex; justify-content: space-between;">\n                                <span>'.concat(e.marker," ").concat(e.seriesName,"</span> ").concat(e.value).concat(e.seriesName.includes("Rate")?"%":""," <br />\n                            </div>\n                        ")})).join(""),"\n                    </div>\n                ")}},xAxis:[{type:"category",data:b?b.axis:[]}],yAxis:[{type:"value",name:p[0]||"Quantity",min:f.min,max:f.max,interval:f.interval},{type:"value",name:p[1]||"Value",min:h.min,max:h.max,interval:h.interval,axisLabel:{formatter:function(e){return e+"%"}}}],series:b?b.series:[]};Object(n.useEffect)((function(){if(t.current){var e=s.b(t.current,"customed");e.setOption(O),e.on("click",(function(e){x&&e&&b&&x(b.axis[e.dataIndex])}))}}));var v=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative w-full",children:[Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30",onClick:v}),Object(g.jsx)("div",{ref:t,style:{width:r,height:A}}),m&&Object(g.jsx)("p",{className:"absolute bottom-5 left-1/2 text-sm transform -translate-x-1/2",children:m})]})};function mt(e){var t=e.title,a=e.rank,n=e.color,r=void 0===n?"#ACACAC":n;return Object(g.jsxs)("div",{className:"inline-flex flex-col justify-center items-center border-4 border-solid rounded py-4 px-8 mx-4",style:{color:r,borderColor:r,width:"300px"},children:["Amazon's Choice"===t?Object(g.jsx)("h2",{className:"text-3xl pb-2 text-center",children:t}):Object(g.jsx)("h2",{className:"text-5xl pb-2 text-center",children:t}),Object(g.jsx)("p",{className:"text-2xl pb-2",children:"Average ranking"}),Object(g.jsx)("p",{className:"text-8xl pb-2",children:a})]})}function ft(e){return console.log("data",e),e?{axis:e.info.x_axis,series:[{type:"bar",name:"Amazon's Choice",data:Object.keys(e.amazons_choice).map((function(t){return e.amazons_choice[t]})),yAxisIndex:0,stack:"one"},{type:"bar",name:"Not Amazon's Choice",data:Object.keys(e.not_amazons_choice).map((function(t){return e.not_amazons_choice[t]})),yAxisIndex:0,stack:"one"},{type:"line",name:"Amazon's Choice Rate",data:Object.keys(e.amazons_choice).map((function(t){return Math.round(100*e.amazons_choice[t]/(e.amazons_choice[t]+e.not_amazons_choice[t]))})),yAxisIndex:1}]}:null}var ht=function(e){var t=Object(n.useRef)(null),a=e.title,r=void 0===a?"Title":a,c=e.height,A=void 0===c?"300px":c,s=e.data,i=void 0===s?null:s,o=e.rate,l=void 0===o?null:o,u=e.onClick,d=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{ref:t,className:"relative",style:{height:A},children:[Object(g.jsxs)(w.Carousel,{className:"mt-4",indicatorPosition:"none",autoplay:!1,children:[Object(g.jsxs)(w.Carousel.Item,{children:[Object(g.jsx)("h1",{className:"text-2xl",children:"Amazon Choice Rank Comparison"}),Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30r",onClick:d}),Object(g.jsxs)("div",{className:"flex justify-center mt-4",style:{height:"250px"},children:[i&&Object(g.jsx)(mt,{title:"Amazon's Choice",rank:i.amazons_choice_avg,color:"#2e78b4"}),i&&Object(g.jsx)(mt,{title:"Others",rank:i.unamazons_choice_avg})]})]}),Object(g.jsx)(w.Carousel.Item,{children:Object(g.jsx)(xt,{height:"300px",width:"728px",title:"Amazon's Choice Rate",names:["Amount","Amazon's Choice Rate"],data:ft(l),yAxisLabel:"Ranking"})})]}),Object(g.jsx)("div",{className:"mt-8",children:i&&Object(g.jsx)(pt,{title:"Top Amazon Choice Ratio",colors:["#2e78b4","#ACACAC"],data:[{source:"Amazon Choice",count:i.amazons_choice_rate},{source:"Others",count:i.unamazons_choice_rate}],onClick:u})})]})};var Ot=function(){var e=Object(n.useState)(at.CHART),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),A=Object(S.a)(c,2),s=A[0],i=A[1],o=Object(n.useState)("webcam"),l=Object(S.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)("US"),j=Object(S.a)(b,2),p=j[0],x=j[1],m=Object(n.useState)(ye()),f=Object(S.a)(m,2),h=f[0],O=f[1],v=Object(n.useState)({}),y=Object(S.a)(v,2),k=y[0],N=y[1],C=Object(n.useState)(1),_=Object(S.a)(C,2),D=_[0],z=_[1],P=Object(n.useState)(1),E=Object(S.a)(P,2),H=E[0],U=E[1],L=Object(n.useState)(1),F=Object(S.a)(L,2),V=F[0],I=F[1],q=Object(n.useState)(null),M=Object(S.a)(q,2),K=M[0],W=M[1],G=Object(n.useState)(null),Q=Object(S.a)(G,2),Z=Q[0],Y=Q[1],X=Object(n.useState)(null),J=Object(S.a)(X,2),$=J[0],ee=J[1],te=Object(n.useState)(null),ae=Object(S.a)(te,2),ne=ae[0],re=ae[1],ce=[{label:"Webcam",value:"webcam"},{label:"Doc cam",value:"document camera"},{label:"Projector",value:"video projector"}],Ae=[{label:"US",value:"US"},{label:"UK",value:"UK"}];Object(n.useEffect)((function(){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s,i,o,l,d;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(h),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:u,region:p,start_at:n,end_at:r,page:H},k),e.next=4,Ie(c);case 4:return A=e.sent,s=A.data,e.next=8,De(c);case 8:return i=e.sent,o=i.data,e.next=12,qe(c);case 12:l=e.sent,d=l.data,W(s),Y(o),ee(d);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u,p,h,k,H]),Object(n.useEffect)((function(){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(h),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:u,region:p,page:V,start_at:n,end_at:r,ac:D},k),e.next=4,le(c);case 4:A=e.sent,s=A.data,re(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u,p,h,k,V,D]);var se=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r,c,A,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(h),n=Object(S.a)(a,2),r=n[0],c=n[1],A=Object(T.a)({category:u,region:p,start_at:r,end_at:c,dl:1,asin:t.join(","),ac:D},k),e.next=4,le(A);case 4:s=e.sent,i=s.request,window.open(i.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(h),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:u,region:p,start_at:n,end_at:r,page:H,dl:1},k),e.next=4,De(c);case 4:A=e.sent,s=A.request,window.open(s.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex items-center mb-4",children:[Object(g.jsx)(w.Select,{className:"mr-4",value:u,placeholder:"Select",onChange:function(e){return d(e)},children:ce.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(w.Select,{className:"mr-4",value:p,placeholder:"Select",onChange:function(e){return x(e)},children:Ae.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(nt,{date:h,setDate:O,disabledDate:function(e){return 0!==me()(e).day()}}),Object(g.jsxs)("div",{className:"text-2xl cursor-pointer",onClick:function(){a===at.CHART&&r(at.TABLE),a===at.TABLE&&r(at.CHART)},children:[a===at.CHART&&Object(g.jsx)(We.b,{}),a===at.TABLE&&Object(g.jsx)(fe.b,{})]})]}),Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"w-2/3 pr-2",children:Object(g.jsxs)(w.Card,{className:"mb-4",children:[a===at.CHART&&Object(g.jsx)(ht,{height:"585px",data:K,rate:$,onClick:function(e){return z(e)}}),a===at.TABLE&&Z&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(rt,{height:"572px",columns:[{label:"Product",prop:"Product"},{label:"Brand",prop:"Brand",sortable:!0},{label:"Rank",prop:"Rank"},{label:"Amazon's Choice",prop:"Amazon's Choice"}],data:Z.items.content,onDownload:ie}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:Z.info.max_page,small:!0,currentPage:Z.items.current_page,onCurrentChange:function(e){return U(e)}})})]})]})}),Object(g.jsx)("div",{className:"w-1/3 pl-2",children:Object(g.jsx)(w.Card,{children:Object(g.jsx)(ve,{height:"600px",type:u,onFilter:N})})})]}),Object(g.jsxs)("div",{className:"mt-16",children:[Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("p",{className:"text-2xl mr-2",children:D?"Amazon\u2019s Choice":"Not Amazon\u2019s Choice"}),Object(g.jsx)(w.Button,{type:"primary",onClick:function(){return i(!0)},children:"Download"})]}),ne&&Object(g.jsx)(Je,{data:ne.prods,region:p,page:ne.info.current_page,totalPage:ne.info.max_page,onChange:I})]}),Object(g.jsx)(Ne,{visible:s,setVisible:i,params:Object(T.a)({category:u,region:p,date:h,ac:D},k),onDownload:se})]})};function vt(e){var t=e.data.reduce((function(e,t){return Object.keys(t).length>Object.keys(e).length?t:e}),{});return Object.keys(t).filter((function(e){return"mission"!==e})).map((function(e){return"Start at ".concat(e)}))}function gt(e){var t=e.data.reduce((function(e,t){return Object.keys(t).length>Object.keys(e).length?t:e}),{});return Object.keys(t).filter((function(e){return"mission"!==e})).map((function(t){return{type:"line",name:"Start at ".concat(t),data:e.data.map((function(e){return e[t]?e[t]:null}))}}))}z.a([P.a,H.a,U.a,L.a,F.a,I.a]);var yt=function(e){var t=Object(n.useRef)(null),a=e.width,r=void 0===a?"100%":a,c=e.height,A=void 0===c?"400px":c,i=e.data,o=void 0===i?null:i,l="Average Rank Increase between ".concat(o?o.info.x_axis[0]:""," to ").concat(o?o.info.x_axis[o.info.x_axis.length-1]:""," sponsored"),u={title:{text:l,textStyle:{fontSize:18}},grid:{backgroundColor:"white",top:70,right:50,left:50},legend:{data:o?vt(o):[],bottom:0},tooltip:{trigger:"axis"},xAxis:[{type:"category",data:o?o.info.x_axis:[]}],yAxis:[{type:"value",name:"Average Rank"}],series:o?gt(o):[]};Object(n.useEffect)((function(){t.current&&s.b(t.current,"customed").setOption(u)}));var d=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,l);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30r",onClick:d}),Object(g.jsx)("div",{ref:t,style:{width:r,height:A}})]})};function wt(e){var t=e.title,a=e.rank,n=e.color,r=void 0===n?"#ACACAC":n;return Object(g.jsxs)("div",{className:"inline-flex flex-col justify-center items-center border-4 border-solid rounded py-4 px-8 mx-4",style:{color:r,borderColor:r,width:"300px"},children:[Object(g.jsx)("h2",{className:"text-5xl pb-2",children:t}),Object(g.jsx)("p",{className:"text-2xl pb-2",children:"Average ranking"}),Object(g.jsx)("p",{className:"text-8xl pb-2",children:a})]})}function kt(e){return e?{axis:e.info.x_axis,series:[{type:"bar",name:"Sponsored",data:Object.keys(e.sponsored).map((function(t){return e.sponsored[t]})),yAxisIndex:0,stack:"one"},{type:"bar",name:"Not Sponsored",data:Object.keys(e.no_sponsored).map((function(t){return e.no_sponsored[t]})),yAxisIndex:0,stack:"one"},{type:"line",name:"Sponsored Rate",data:Object.keys(e.sponsored).map((function(t){return Math.round(100*e.sponsored[t]/(e.sponsored[t]+e.no_sponsored[t]))})),yAxisIndex:1}]}:null}function St(e){return e||null}var Nt=function(e){var t=Object(n.useRef)(null),a=e.title,r=void 0===a?"Title":a,c=e.height,A=void 0===c?"300px":c,s=e.data,i=void 0===s?null:s,o=e.rate,l=void 0===o?null:o,u=e.avg,d=void 0===u?null:u,b=e.onClick,j=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{ref:t,className:"relative",style:{height:A},children:[Object(g.jsxs)(w.Carousel,{className:"mt-4",indicatorPosition:"none",autoplay:!1,children:[Object(g.jsxs)(w.Carousel.Item,{children:[Object(g.jsx)("h1",{className:"text-2xl",children:"Sponsored Average Rank Comparison"}),Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30r",onClick:j}),Object(g.jsxs)("div",{className:"flex justify-center mt-4",style:{height:"250px"},children:[i&&Object(g.jsx)(wt,{title:"Sponsored",rank:i.sponsored_avg,color:"#FB8C3B"}),i&&Object(g.jsx)(wt,{title:"Others",rank:i.unsponsored_avg})]})]}),Object(g.jsx)(w.Carousel.Item,{children:Object(g.jsx)(xt,{height:"300px",width:"728px",title:"Sponsored Rate",names:["Amount","Sponsored Rate"],data:kt(l),yAxisLabel:"Ranking"})}),Object(g.jsx)(w.Carousel.Item,{children:Object(g.jsx)(yt,{height:"300px",width:"728px",data:St(d)})})]}),Object(g.jsx)("div",{className:"mt-8",children:i&&Object(g.jsx)(pt,{title:"Top Sponsored Ratio",colors:["#FB8C3B","#ACACAC"],data:[{source:"Sponsored",count:i.sponsored_rate},{source:"Others",count:i.unsponsored_rate}],onClick:b})})]})};var Ct=function(){var e=Object(n.useState)(at.CHART),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),A=Object(S.a)(c,2),s=A[0],i=A[1],o=Object(n.useState)("webcam"),l=Object(S.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)("US"),j=Object(S.a)(b,2),p=j[0],x=j[1],m=Object(n.useState)(ye()),f=Object(S.a)(m,2),h=f[0],O=f[1],v=Object(n.useState)({}),y=Object(S.a)(v,2),k=y[0],N=y[1],C=Object(n.useState)(1),_=Object(S.a)(C,2),D=_[0],z=_[1],P=Object(n.useState)(1),E=Object(S.a)(P,2),H=E[0],U=E[1],L=Object(n.useState)(1),F=Object(S.a)(L,2),V=F[0],I=F[1],q=Object(n.useState)(null),M=Object(S.a)(q,2),K=M[0],W=M[1],G=Object(n.useState)(null),Q=Object(S.a)(G,2),Z=Q[0],Y=Q[1],X=Object(n.useState)(null),J=Object(S.a)(X,2),$=J[0],ee=J[1],te=Object(n.useState)(null),ne=Object(S.a)(te,2),re=ne[0],ce=ne[1],Ae=Object(n.useState)(null),se=Object(S.a)(Ae,2),ie=se[0],oe=se[1],ue=[{label:"Webcam",value:"webcam"},{label:"Doc cam",value:"document camera"},{label:"Projector",value:"video projector"}],de=[{label:"US",value:"US"},{label:"UK",value:"UK"}];Object(n.useEffect)((function(){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s,i,o,l,d,b,j;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(h),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:u,region:p,start_at:n,end_at:r,page:H},k),e.next=4,Le(c);case 4:return A=e.sent,s=A.data,e.next=8,Me(c);case 8:return i=e.sent,o=i.data,e.next=12,Ve(c);case 12:return l=e.sent,d=l.data,e.next=16,Fe(c);case 16:b=e.sent,j=b.data,W(s),Y(o),ee(d),ce(j);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u,p,h,k,H]),Object(n.useEffect)((function(){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(h),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:u,region:p,page:V,start_at:n,end_at:r,sp:D},k),e.next=4,le(c);case 4:A=e.sent,s=A.data,oe(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u,p,h,k,V,D]);var be=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r,c,A,s,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ge(h),n=Object(S.a)(a,2),r=n[0],c=n[1],A=Object(T.a)({category:u,region:p,start_at:r,end_at:c,dl:1,sp:D,asin:t.join(",")},k),e.next=4,le(A);case 4:s=e.sent,i=s.request,window.open(i.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(h),a=Object(S.a)(t,2),n=a[0],r=a[1],c=Object(T.a)({category:u,region:p,start_at:n,end_at:r,page:H,sp:D,dl:1},k),e.next=4,Me(c);case 4:A=e.sent,s=A.request,window.open(s.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex items-center mb-4",children:[Object(g.jsx)(w.Select,{className:"mr-4",value:u,placeholder:"Select",onChange:function(e){return d(e)},children:ue.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(w.Select,{className:"mr-4",value:p,placeholder:"Select",onChange:function(e){return x(e)},children:de.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(nt,{date:h,setDate:O,disabledDate:function(e){return 0!==me()(e).day()}}),Object(g.jsx)(w.Tooltip,{className:"mr-4",effect:"dark",content:Object(g.jsx)("div",{style:{maxWidth:"200px"},children:"The Stock level of each product is estimated by the maximum buying number limit in a single order. Identification between high stock and low stock may have certain deviation."}),placement:"bottom",children:Object(g.jsx)(ae.a,{className:"text-2xl"})}),Object(g.jsxs)("div",{className:"text-2xl cursor-pointer",onClick:function(){a===at.CHART&&r(at.TABLE),a===at.TABLE&&r(at.CHART)},children:[a===at.CHART&&Object(g.jsx)(We.b,{}),a===at.TABLE&&Object(g.jsx)(fe.b,{})]})]}),Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"w-2/3 pr-2",children:Object(g.jsxs)(w.Card,{className:"mb-4",children:[a===at.CHART&&Object(g.jsx)(Nt,{height:"585px",data:K,rate:$,avg:re,onClick:function(e){return z(e)}}),a===at.TABLE&&Z&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(rt,{height:"572px",columns:[{label:"Product",prop:"product"},{label:"Brand",prop:"brand",sortable:!0},{label:"Average Rank",prop:"avg_rank"},{label:"Sponsored period",prop:"sponsored"}],data:Z.data.content,onDownload:je}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:Z.info.max_page,small:!0,currentPage:Z.data.current_page,onCurrentChange:function(e){return U(e)}})})]})]})}),Object(g.jsx)("div",{className:"w-1/3 pl-2",children:Object(g.jsx)(w.Card,{children:Object(g.jsx)(ve,{height:"600px",type:u,onFilter:N})})})]}),Object(g.jsxs)("div",{className:"mt-16",children:[Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("p",{className:"text-2xl mr-2",children:D?"Sponsored Product":"Not Sponsored Product"}),Object(g.jsx)(w.Button,{type:"primary",onClick:function(){return i(!0)},children:"Download"})]}),ie&&Object(g.jsx)(Je,{data:ie.prods,region:p,page:ie.info.current_page,totalPage:ie.info.max_page,onChange:I})]}),Object(g.jsx)(Ne,{visible:s,setVisible:i,params:Object(T.a)({category:u,region:p,date:h,sp:D},k),onDownload:be})]})};a(567);z.a([P.a,E.a,H.a,U.a,L.a,F.a,I.a]);var Tt=function(e){var t=Object(n.useRef)(null),a=e.width,r=void 0===a?"100%":a,c=e.height,A=void 0===c?"400px":c,i=e.title,o=void 0===i?"Title":i,l=e.titleFontSize,u=void 0===l?24:l,d=e.data,b=void 0===d?[]:d,j=e.onClick,p={title:{text:o,textStyle:{fontSize:u}},grid:{backgroundColor:"white",top:0,right:0,bottom:0,left:0},tooltip:{},series:[{type:"wordCloud",rotationRange:[0,0],data:b.map((function(e){return{name:e.name,value:e.value,textStyle:{color:e.color}}}))}]};Object(n.useEffect)((function(){if(t.current){var e=s.b(t.current,"customed");e.setOption(p);var a=!1;e.on("click",(function(e){if(j&&e){if(a)return;a=!0,j(e.name),setTimeout((function(){return a=!1}),1e3)}}))}}),[b]);var x=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(t.current,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsx)(q.a,{className:"absolute right-0 top-0 text-3xl cursor-pointer z-30r",onClick:x}),Object(g.jsx)("div",{ref:t,style:{width:r,height:A}})]})};function _t(e){var t=e.data.map((function(t,a){return{data:t,value:parseInt(t,10),itemStyle:{color:e.color[a]}}}));return[e.x_axis,t]}var Rt=function(){var e=Object(n.useRef)(),t=Object(n.useState)(at.CHART),a=Object(S.a)(t,2),r=a[0],c=a[1],A=Object(n.useState)("webcam"),s=Object(S.a)(A,2),i=s[0],o=s[1],l=Object(n.useState)("US"),u=Object(S.a)(l,2),d=u[0],b=u[1],j=Object(n.useState)(ye()[1]),p=Object(S.a)(j,2),x=p[0],m=p[1],f=Object(n.useState)(1),h=Object(S.a)(f,2),O=h[0],v=h[1],y=Object(n.useState)([]),k=Object(S.a)(y,2),N=k[0],C=k[1],T=Object(n.useState)(null),_=Object(S.a)(T,2),D=_[0],z=_[1],P=Object(n.useState)(null),E=Object(S.a)(P,2),H=E[0],U=E[1],L=Object(n.useState)(""),F=Object(S.a)(L,2),V=F[0],I=F[1],q=[{label:"Webcam",value:"webcam"},{label:"Doc cam",value:"document camera"},{label:"Projector",value:"video projector"}],M=[{label:"US",value:"US"},{label:"UK",value:"UK"}],K=[{label:"Keyword",prop:"Phrase"},{label:"Search Volume",prop:"Search Volume"},{label:"Search Volume Trend",prop:"Search Volume Trend",width:190,render:function(e){var t=e["Search Volume Trend"],a=t.includes("-");return Object(g.jsx)("span",{style:{color:a?"red":"green"},children:t})}},{label:"Competing Products",prop:"Competing Products"}],W=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge([x,x]),a=Object(S.a)(t,2),n=a[0],r=a[1],c={category:i,region:d,start_at:n,end_at:r},e.next=4,oe({url:"/SEO/get_keyword_word_cloud",method:"GET",params:c});case 4:A=e.sent,s=A.data,C(s.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge([x,x]),a=Object(S.a)(t,1),n=a[0],r={category:i,start_at:n,page:O,dl:0},e.next=4,Ke(r);case 4:c=e.sent,A=c.data,z(A);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge([x,x]),a=Object(S.a)(t,2),n=a[0],r=a[1],c={category:i,region:d,start_at:n,end_at:r},V&&(c.word=V),e.next=5,oe({url:"/SEO/get_search_volumn_bar_chart",method:"GET",params:c});case 5:A=e.sent,s=A.data,U(s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v(1),I(""),r===at.CHART&&W(),r===at.TABLE&&1===O&&G(),V||Q()}),[d,i,x]),be((function(){r===at.CHART&&W(),r===at.TABLE&&G()}),[r,O]),be((function(){Q()}),[V]);var Z=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a,n,r,c,A;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge([x,x]),a=Object(S.a)(t,1),n=a[0],r={category:i,start_at:n,dl:1},e.next=4,Ke(r);case 4:c=e.sent,A=c.request,window.open(A.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex items-center mb-4",children:[Object(g.jsx)(w.Select,{className:"mr-4",value:i,placeholder:"Select",onChange:function(e){return o(e)},children:q.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(w.Select,{className:"mr-4",value:d,placeholder:"Select",onChange:function(e){return b(e)},children:M.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsxs)("div",{className:"relative mr-4",children:[Object(g.jsx)(w.DatePicker,{ref:e,isShowTrigger:!1,isReadOnly:!0,value:x,disabledDate:function(e){return 0!==me()(e).day()||me()(e).isBefore("2021-11-21","day")},onChange:m}),Object(g.jsx)(pe.a,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-primary cursor-pointer",onClick:function(){e.current.refs.inputRoot.focus()}})]}),Object(g.jsxs)("div",{className:"text-2xl cursor-pointer mr-4",onClick:function(){r===at.CHART&&c(at.TABLE),r===at.TABLE&&c(at.CHART)},children:[r===at.CHART&&Object(g.jsx)(We.b,{}),r===at.TABLE&&Object(g.jsx)(fe.b,{})]})]}),Object(g.jsxs)(w.Card,{className:"mb-4",style:{minHeight:"642px"},children:[r===at.CHART&&Object(g.jsx)(Tt,{title:"Keyword Cloud",height:"600px",data:N,onClick:function(e){return I(e)}}),r===at.TABLE&&D&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(rt,{height:"572px",columns:K,data:D.data.content,onDownload:Z}),Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:D.info.max_page,small:!0,currentPage:D.info.current_page,onCurrentChange:function(e){return v(e)}})})]})]}),Object(g.jsx)(w.Card,{style:{minHeight:"642px"},children:H&&Object(g.jsx)(re,{title:"Search Volume",height:"600px",data:_t(H),dataItemName:"Volume"})})]})};var Bt=function(){return Object(g.jsxs)("div",{className:"bg-background relative",children:[Object(g.jsx)(C,{}),Object(g.jsxs)("div",{className:"main-container p-4",children:[Object(g.jsx)(k,{}),Object(g.jsxs)(m.d,{children:[Object(g.jsx)(m.b,{path:v.AmazonTop100PriceDistribution(),children:Object(g.jsx)(ct,{})}),Object(g.jsx)(m.b,{path:v.AmazonTop100Inventory(),children:Object(g.jsx)(st,{})}),Object(g.jsx)(m.b,{path:v.AmazonTop100NewReviews(),children:Object(g.jsx)(ot,{})}),Object(g.jsx)(m.b,{path:v.AmazonTop100BrandRanking(),children:Object(g.jsx)(jt,{})}),Object(g.jsx)(m.b,{path:v.AmazonTop100ProductsRanking(),children:Object(g.jsx)(ut,{})}),Object(g.jsx)(m.b,{path:v.AmazonTop100AmazonsChoice(),children:Object(g.jsx)(Ot,{})}),Object(g.jsx)(m.b,{path:v.AmazonTop100Sponsored(),children:Object(g.jsx)(Ct,{})}),Object(g.jsx)(m.b,{path:v.AmazonTop100KeywordAnalysis(),children:Object(g.jsx)(Rt,{})}),Object(g.jsx)(m.b,{path:v.AmazonTop100DashBoard(),children:Object(g.jsx)(tt,{})})]})]})]})};z.a([P.a,E.a,H.a,U.a,L.a,F.a,I.a]);var Dt={weight:"Weight",value:"Value",default:""};var zt=function(e){var t=e.width,a=void 0===t?"100%":t,r=e.height,c=void 0===r?"400px":r,A=e.data,i=void 0===A?null:A,o=Object(n.useRef)(null),l=Object(n.useState)("value"),u=Object(S.a)(l,2),d=u[0],b=u[1],j="".concat("value"===d?"Value":"Weight"," and Bill of Lading"),p=Z(i?i.series.filter((function(e){return 0===e.yAxisIndex&&e.name===Dt[d]})).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t.data))}),[]):[]),x=Z(i?i.series.filter((function(e){return 1===e.yAxisIndex})).reduce((function(e,t){return[].concat(Object(D.a)(e),Object(D.a)(t.data))}),[]):[]),m={title:{text:j,textStyle:{fontSize:20}},grid:{backgroundColor:"white",top:90,right:50,left:70,bottom:80},legend:{bottom:0,formatter:function(e){return function(e){if(!i)return e;var t=i.series.find((function(t){return t.name===e}));if(!t)return e;var a=t.data.reduce((function(e,t){return e+t}),0).toFixed(2);return"".concat(e,", total: ").concat(a)}(e)}},tooltip:{trigger:"axis"},xAxis:[{type:"category",data:i?i.axis:[],axisLabel:{interval:0,rotate:15,formatter:function(e){return e.length<=15?e:e.slice(0,14)+"..."}}}],yAxis:[{type:"value",name:"value"===d?"Value\n(USD)":"Weight\n(Kg)",min:p.min,max:p.max,interval:p.interval},{type:"value",name:"BOL",min:x.min,max:x.max,interval:x.interval}],series:i?i.series.filter((function(e){return 0!==e.yAxisIndex||e.name===Dt[d]})):[]};Object(n.useEffect)((function(){o.current&&s.b(o.current,"customed").setOption(m)}));var f=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,G(o.current,j);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsxs)("div",{className:"flex absolute right-4 top-0 z-30",children:[Object(g.jsx)(w.Button,{type:"value"===d?"primary":void 0,size:"small",onClick:function(){return b("value")},children:"Value"}),Object(g.jsx)(w.Button,{type:"weight"===d?"primary":void 0,size:"small",onClick:function(){return b("weight")},children:"Weight"}),Object(g.jsx)(q.a,{className:"text-3xl cursor-pointer ml-2",onClick:f})]}),Object(g.jsx)("div",{ref:o,style:{width:a,height:c}})]})};function Pt(e){var t={};return e.exporter&&(t.exporter=e.exporter),e.hs_code&&(t.hs_code=e.hs_code),e.start_at&&(t.start_at=e.start_at),e.end_at&&(t.end_at=e.end_at),oe({url:"/customs/importer/value_pie",method:"GET",params:t})}function Et(e){var t={};return e.exporter&&(t.exporter=e.exporter),e.hs_code&&(t.hs_code=e.hs_code),e.start_at&&(t.start_at=e.start_at),e.end_at&&(t.end_at=e.end_at),oe({url:"/customs/importer/bill_pie",method:"GET",params:t})}function Ht(e){var t={};return e.exporter&&(t.exporter=e.exporter),e.hs_code&&(t.hs_code=e.hs_code),e.start_at&&(t.start_at=e.start_at),e.end_at&&(t.end_at=e.end_at),oe({url:"/customs/importer/value_bill_bar_line",method:"GET",params:t})}function Ut(e){var t={};return e.exporter&&(t.exporter=e.exporter),e.hs_code&&(t.hs_code=e.hs_code),e.start_at&&(t.start_at=e.start_at),e.end_at&&(t.end_at=e.end_at),e.page&&(t.page=e.page),oe({url:"/customs/importer/value_bill_table",method:"GET",params:t})}function Lt(e){var t={};return e.exporter&&(t.exporter=e.exporter),e.hs_code&&(t.hs_code=e.hs_code),e.start_at&&(t.start_at=e.start_at),e.end_at&&(t.end_at=e.end_at),e.page&&(t.page=e.page),oe({url:"/customs/importer/value_bill_table",method:"GET",params:Object(T.a)(Object(T.a)({},t),{},{is_excel_download:!0})})}var Ft=function(e){if(!e)return null;var t={Weight:0,"Bill of Lading":1,Value:0,default:0},a=e.series.map((function(e){return Object(T.a)(Object(T.a)({},e),{},{yAxisIndex:t[e.name]||t.default})}));return Object(T.a)(Object(T.a)({},e),{},{series:a})};var Vt=function(){var e=Object(n.useState)(""),t=Object(S.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),A=Object(S.a)(c,2),s=A[0],i=A[1],o=Object(n.useState)([me()().subtract(1,"year").toDate(),me()().toDate()]),l=Object(S.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)([]),j=Object(S.a)(b,2),p=j[0],x=j[1],m=Object(n.useState)([]),f=Object(S.a)(m,2),h=f[0],O=f[1],v=Object(n.useState)(1),y=Object(S.a)(v,2),k=y[0],N=y[1],C=Object(n.useState)([]),T=Object(S.a)(C,2),_=T[0],z=T[1],P=Object(n.useState)([]),E=Object(S.a)(P,2),H=E[0],U=E[1],L=Object(n.useState)(null),F=Object(S.a)(L,2),V=F[0],I=F[1],M=Object(n.useState)(null),K=Object(S.a)(M,2),W=K[0],G=K[1];Object(n.useEffect)((function(){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe({url:"/customs/importer/filters",method:"GET"});case 2:t=e.sent,a=t.data,x(a.exporters.map((function(e){return{label:e,value:e}}))),r(a.exporters.length?a.exporters[0]:""),O([{label:"All",value:""}].concat(Object(D.a)(a.hs_codes.map((function(e){return{label:e,value:e}})))));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t,n,r,c,A;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t=ge(u),n=Object(S.a)(t,2),r=n[0],c=n[1],A={exporter:a,hs_code:s,start_at:r,end_at:c,page:k},e.t0=G,e.next=7,Ut(A);case 7:e.t1=e.sent.data,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,s,u,k]),Object(n.useEffect)((function(){var e=function(){var e=Object(B.a)(R.a.mark((function e(){var t,n,r,c,A,i,o,l,d;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t=ge(u),n=Object(S.a)(t,2),r=n[0],c=n[1],A={exporter:a,hs_code:s,start_at:r,end_at:c},e.next=6,Pt(A);case 6:return i=e.sent,o=i.data,e.next=10,Et(A);case 10:return l=e.sent,d=l.data,e.t0=I,e.next=15,Ht(A);case 15:e.t1=e.sent.data,(0,e.t0)(e.t1),z(o.series.data),U(d.series.data);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,s,u]);var Q=function(){var e=Object(B.a)(R.a.mark((function e(){var t,n,r,c,A,i,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ge(u),n=Object(S.a)(t,2),r=n[0],c=n[1],A={exporter:a,hs_code:s,start_at:r,end_at:c},e.next=4,Lt(A);case 4:i=e.sent,o=i.request,window.open(o.responseURL,"__blank");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"flex items-end mb-4",children:[Object(g.jsx)(w.Select,{className:"mr-4",value:a,placeholder:"Select",onChange:function(e){return r(e)},children:p.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(w.Select,{className:"mr-4",value:s,placeholder:"Select",onChange:function(e){return i(e)},children:h.map((function(e){return Object(g.jsx)(w.Select.Option,{label:e.label,value:e.value},e.value)}))}),Object(g.jsx)(nt,{date:u,setDate:d,disabledDate:function(){return!1}})]}),Object(g.jsx)(w.Card,{className:"mb-12",children:Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsx)("div",{className:"w-2/3",children:Object(g.jsx)(zt,{height:"600px",data:Ft(V)})}),Object(g.jsxs)("div",{className:"w-1/3",children:[Object(g.jsx)(te,{title:"Top Importer by Import Value",titleFontSize:20,height:"300px",data:_}),Object(g.jsx)(te,{title:"Top Importer by Bill of Lading",titleFontSize:20,height:"300px",data:H})]})]})}),Object(g.jsxs)(w.Card,{className:"relative mb-12 pt-8",children:[Object(g.jsx)(q.a,{className:"absolute right-4 top-4 text-3xl cursor-pointer z-30",onClick:Q}),W&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w.Table,{style:{width:"100%"},columns:[{label:"Exporter",prop:"Exporter"},{label:"HS Code",prop:"HS Code"},{label:"Importer",prop:"Importer"},{label:"Destination Country",prop:"Destination Country",width:180},{label:"Value",prop:"Value"},{label:"Quantity",prop:"Quantity"},{label:"Quantity Unit",prop:"Quantity Unit"},{label:"Unit Price",prop:"Unit Price"}],data:W.items}),Object(g.jsx)("div",{className:"flex justify-center pt-4",children:Object(g.jsx)(w.Pagination,{layout:"prev, pager, next",pageCount:W.info.max_page,currentPage:W.info.current_page,onCurrentChange:function(e){return N(e)}})})]})]})]})};var It=function(){return Object(g.jsx)("div",{className:"bg-background",children:Object(g.jsxs)("div",{className:"main-container p-4",children:[Object(g.jsx)(k,{}),Object(g.jsx)(m.d,{children:Object(g.jsx)(m.b,{path:v.CustomsDataDashBoard(),children:Object(g.jsx)(Vt,{})})})]})})};var qt=function(){return Object(g.jsxs)(x.a,{children:[Object(g.jsx)(y,{}),Object(g.jsx)("main",{className:"h-main bg-background overflow-y-scroll",children:Object(g.jsxs)(m.d,{children:[Object(g.jsx)(m.b,{path:v.AmazonTop100DashBoard(),children:Object(g.jsx)(Bt,{})}),Object(g.jsx)(m.b,{path:v.CustomsDataDashBoard(),children:Object(g.jsx)(It,{})}),Object(g.jsx)(m.b,{exact:!0,path:"*",children:Object(g.jsx)(m.a,{to:v.AmazonTop100DashBoard()})})]})})]})},Mt=(a(564),a(565),a(284));s.l("customed",Mt),A.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(i.a,{store:p,children:Object(g.jsx)(qt,{})})}),document.getElementById("root")),o()}},[[566,1,2]]]);
//# sourceMappingURL=main.f64fb5c6.chunk.js.map